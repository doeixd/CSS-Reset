/* ================================================ */
/* ==              LAYER DEFINITION              == */
/* ================================================ */
/* Defines the cascade order for the unified framework. */
@layer reset, tokens, engine, theme, palette, defaults, components, utilities, layouts;

/* ================================================ */
/* ==               @layer reset                 == */
/* ================================================ */
/* Purpose: Neutralize browser styles, fix inconsistencies, */
/* establish predictable baseline behavior, and provide a clean */
/* slate with zero specificity (:where). */
@layer reset {
  /* --- Core Resets --- */
  :where(*, *::before, *::after) { margin: 0; padding: 0; box-sizing: border-box; vertical-align: baseline; min-width: 0; font: inherit; color: inherit; line-height: inherit; }
  /* --- Document Level --- */
  :where(html) { text-size-adjust: 100%; -webkit-text-size-adjust: 100%; -moz-text-size-adjust: none; tab-size: 4; height: 100%; }
  :where(body) { min-height: 100%; }
  /* --- Element Display & Behavior --- */
  :where(:is(img, picture, video, canvas, svg, :not(:defined))) { display: block; max-width: 100%; height: auto; }
  :where(svg) { fill: currentColor; stroke: currentColor; stroke-width: 0; }
  /* Form element normalization */
  :where(button, input, select, textarea) { appearance: none; -webkit-appearance: none; -moz-appearance: none; border-radius: 0; background-color: transparent; letter-spacing: inherit; border: 1px solid transparent; }
  :where(button) { border: none; background: none; text-align: inherit; }
  :where(textarea) { resize: vertical; overflow: auto; }
  /* Default cursors */
  :where(button, select:not([disabled]), input[type="button"], input[type="submit"], input[type="reset"], input[type="checkbox"], input[type="radio"], label) { cursor: pointer; }
  :where(input[type="text"], input[type="email"], input[type="search"], input[type="url"], input[type="tel"], input[type="number"], input[type="password"], textarea) { cursor: text; }
  :where([disabled]) { cursor: not-allowed; }
  /* --- Text Element Resets --- */
  :where(p, h1, h2, h3, h4, h5, h6, li, dd, dt, blockquote) { overflow-wrap: break-word; }
  :where(h1, h2, h3, h4, h5, h6) { text-wrap: balance; font-size: inherit; font-weight: inherit; }
  :where(p, blockquote, li) { text-wrap: pretty; }
  :where(a) { text-decoration: inherit; }
  :where(abbr[title]) { text-decoration: underline dotted; cursor: help; }
  /* --- Other Element Resets --- */
  :where(table) { text-indent: 0; border-color: inherit; border-collapse: collapse; border-spacing: 0; }
  :where(ul, ol) { list-style: none; }
  :where([src='']) { display: none; }
  :where(::backdrop) { all: unset; }
  :where(:not(html, body, svg, img, video, canvas, iframe, frame, object, embed, hr, :where(button, input, select, textarea), table, thead, tbody, tfoot, tr, th, td, details, summary, fieldset)) { border-style: solid; border-width: 0; }
  /* --- Accessibility & Utilities --- */
  :where([hidden]) { display: none !important; }
  :where(.visually-hidden:not(:focus):not(:active), .sr-only:not(:focus):not(:active)) { clip: rect(0 0 0 0); clip-path: inset(50%); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px; }
  /* --- Modern Feature Opt-ins --- */
  @view-transition { navigation: auto; }
} /* End of @layer reset */


/* ================================================ */
/* ==     NEW COLOR SYSTEM - LAYERS START        == */
/* ================================================ */

/* ================================================ */
/* ==               @layer tokens                == */
/* ================================================ */
@layer tokens {
  /* Register CSS Custom Properties */
  @property --color-h { syntax: '<number>'; inherits: true; initial-value: 250; }
  @property --color-c { syntax: '<number>'; inherits: true; initial-value: 0.1; }
  @property --color-l { syntax: '<percentage>'; inherits: true; initial-value: 50%; }
  @property --color-a { syntax: '<number>'; inherits: true; initial-value: 1; }
  @property --l-threshold { syntax: '<number>'; inherits: true; initial-value: 0.65; }
  @property --c-threshold { syntax: '<number>'; inherits: true; initial-value: 0.08; }
  @property --bg { syntax: '<color>'; inherits: false; initial-value: transparent; }
  @property --fg { syntax: '<color>'; inherits: true; initial-value: currentColor; }
  @property --l-delta { syntax: '<percentage>'; inherits: true; initial-value: 0%; }
  @property --c-delta { syntax: '<percentage>'; inherits: true; initial-value: 0%; }

  :root {
    /* ========== COLOR SCALES ========== */
    /* Lightness Scale (0-14) */
    --scale-l-0: 99%; --scale-l-1: 95%; --scale-l-2: 90%; --scale-l-3: 82%;
    --scale-l-4: 74%; --scale-l-5: 66%; --scale-l-6: 58%; --scale-l-7: 50%;
    --scale-l-8: 42%; --scale-l-9: 34%; --scale-l-10: 26%; --scale-l-11: 18%;
    --scale-l-12: 10%; --scale-l-13: 5%; --scale-l-14: 1%;

    /* Chroma Scale (0-12) */
    --scale-c-0: 0; --scale-c-1: 0.02; --scale-c-2: 0.04; --scale-c-3: 0.06;
    --scale-c-4: 0.08; --scale-c-5: 0.1; --scale-c-6: 0.12; --scale-c-7: 0.15;
    --scale-c-8: 0.18; --scale-c-9: 0.22; --scale-c-10: 0.26; --scale-c-11: 0.3;
    --scale-c-12: 0.37;

    /* Alpha Scale (0-8) */
    --alpha-0: 0; --alpha-1: 0.05; --alpha-2: 0.1; --alpha-3: 0.2;
    --alpha-4: 0.4; --alpha-5: 0.6; --alpha-6: 0.75; --alpha-7: 0.9;
    --alpha-8: 1;

    /* Contrast Ratios */
    --contrast-ratio-low: 3; --contrast-ratio-medium: 4.5; --contrast-ratio-high: 7;

    /* Max Chroma per Lightness Band */
    --max-chroma-0: 0.04; --max-chroma-1: 0.08; --max-chroma-2: 0.15;
    --max-chroma-3: 0.22; --max-chroma-4: 0.18; --max-chroma-5: 0.12;
    --max-chroma-6: 0.06;

    /* Base Hue Definitions for Palette */
    --hue-gray: 250; --hue-slate: 215; --hue-red: 25; --hue-orange: 40;
    --hue-amber: 55; --hue-yellow: 90; --hue-lime: 120; --hue-green: 145;
    --hue-emerald: 160; --hue-teal: 180; --hue-cyan: 195; --hue-sky: 210;
    --hue-blue: 245; --hue-indigo: 265; --hue-violet: 285; --hue-purple: 300;
    --hue-fuchsia: 320; --hue-pink: 340; --hue-rose: 355;
    
    /* ========== SHADOW SYSTEM ========== */
    /* Shadow color base using HSL format for easier adjustments */
    --shadow-color-base: 220 10% 10%;
    --shadow-color-dark: 220 20% 90%;
    
    /* Light mode shadows */
    --shadow-sm: 0 1px 2px oklch(from hsl(var(--shadow-color-base)) l c h / 7%);
    --shadow-md: 0 4px 6px -1px oklch(from hsl(var(--shadow-color-base)) l c h / 10%), 
                 0 2px 4px -2px oklch(from hsl(var(--shadow-color-base)) l c h / 10%);
    --shadow-lg: 0 10px 15px -3px oklch(from hsl(var(--shadow-color-base)) l c h / 10%), 
                 0 4px 6px -4px oklch(from hsl(var(--shadow-color-base)) l c h / 10%);
    --shadow-xl: 0 20px 25px -5px oklch(from hsl(var(--shadow-color-base)) l c h / 10%), 
                 0 8px 10px -6px oklch(from hsl(var(--shadow-color-base)) l c h / 10%);
    --shadow-inner: inset 0 2px 4px 0 oklch(from hsl(var(--shadow-color-base)) l c h / 5%);
    
    /* Semantic shadow assignments */
    --shadow-button: var(--shadow-sm);
    --shadow-button-hover: var(--shadow-md);
    --shadow-button-active: var(--shadow-inner);
    --shadow-card: var(--shadow-md);
    --shadow-dropdown: var(--shadow-lg);
    --shadow-modal: var(--shadow-xl);
    
    /* ========== SPACING SYSTEM ========== */
    /* Spacing Scale */
    --spacing-0: 0;
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 2.5rem;
    --spacing-3xl: 3rem;
    
    /* ========== TYPOGRAPHY SYSTEM ========== */
    /* Font Size Scale */
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 1.875rem;
    --font-size-4xl: 2.25rem;
    
    /* Font Weight Scale */
    --font-weight-thin: 100;
    --font-weight-extralight: 200;
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    --font-weight-black: 900;
    
    /* Line Height Scale */
    --line-height-none: 1;
    --line-height-tight: 1.25;
    --line-height-snug: 1.375;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.625;
    --line-height-loose: 2;
    
    /* Letter Spacing Scale */
    --letter-spacing-tighter: -0.05em;
    --letter-spacing-tight: -0.025em;
    --letter-spacing-normal: 0;
    --letter-spacing-wide: 0.025em;
    --letter-spacing-wider: 0.05em;
    --letter-spacing-widest: 0.1em;
    
    /* ========== POSITIONING & LAYOUT SYSTEM ========== */
    /* Positioning Scale */
    --inset-0: 0;
    --inset-xs: 0.25rem;
    --inset-sm: 0.5rem;
    --inset-md: 1rem;
    
    /* Z-Index Scale */
    --z-index-0: 0;
    --z-index-10: 10;
    --z-index-20: 20;
    --z-index-30: 30;
    --z-index-40: 40;
    --z-index-50: 50;
    --z-index-auto: auto;
    
    /* Flex Values */
    --flex-1: 1 1 0%;
    --flex-auto: 1 1 auto;
    --flex-initial: 0 1 auto;
    --flex-none: none;
    
    /* Grid Template Sizes */
    --grid-cols-1: repeat(1, minmax(0, 1fr));
    --grid-cols-2: repeat(2, minmax(0, 1fr));
    --grid-cols-3: repeat(3, minmax(0, 1fr));
    --grid-cols-4: repeat(4, minmax(0, 1fr));
    --grid-cols-6: repeat(6, minmax(0, 1fr));
    --grid-cols-12: repeat(12, minmax(0, 1fr));
    
    /* Container Query Breakpoints */
    --cq-bp-xs: 20em;  /* ~320px */
    --cq-bp-sm: 30em;  /* ~480px */
    --cq-bp-md: 45em;  /* ~720px */
    --cq-bp-lg: 60em;  /* ~960px */
    --cq-bp-xl: 80em;  /* ~1280px */
    --cq-bp-2xl: 96em; /* ~1536px */
  }
}

/* ================================================ */
/* ==              @layer engine                 == */
/* ================================================ */
@layer engine {
 :root {
    /* Lightness delta percentages */
    --l-delta-0: 0%; --l-delta-1: 2%; --l-delta-2: 4%; --l-delta-3: 7%;
    --l-delta-4: 10%; --l-delta-5: 14%; --l-delta-6: 19%; --l-delta-7: 25%;
    --l-delta-8: 32%; --l-delta-9: 40%; --l-delta-10: 50%; --l-delta-11: 60%;
    --l-delta-12: 70%; --l-delta-13: 80%; --l-delta-14: 90%;
    --l-delta-0-down: calc(-1 * var(--l-delta-0)); --l-delta-1-down: calc(-1 * var(--l-delta-1));
    --l-delta-2-down: calc(-1 * var(--l-delta-2)); --l-delta-3-down: calc(-1 * var(--l-delta-3));
    --l-delta-4-down: calc(-1 * var(--l-delta-4)); --l-delta-5-down: calc(-1 * var(--l-delta-5));
    --l-delta-6-down: calc(-1 * var(--l-delta-6)); --l-delta-7-down: calc(-1 * var(--l-delta-7));
    --l-delta-8-down: calc(-1 * var(--l-delta-8)); --l-delta-9-down: calc(-1 * var(--l-delta-9));
    --l-delta-10-down: calc(-1 * var(--l-delta-10)); --l-delta-11-down: calc(-1 * var(--l-delta-11));
    --l-delta-12-down: calc(-1 * var(--l-delta-12)); --l-delta-13-down: calc(-1 * var(--l-delta-13));
    --l-delta-14-down: calc(-1 * var(--l-delta-14));

    /* Chroma delta percentages */
    --c-delta-0: 0%; --c-delta-1: 10%; --c-delta-2: 20%; --c-delta-3: 30%;
    --c-delta-4: 40%; --c-delta-5: 50%; --c-delta-6: 60%; --c-delta-7: 70%;
    --c-delta-8: 80%; --c-delta-9: 90%; --c-delta-10: 100%;
    --c-delta-0-down: calc(-1 * var(--c-delta-0)); --c-delta-1-down: calc(-1 * var(--c-delta-1));
    --c-delta-2-down: calc(-1 * var(--c-delta-2)); --c-delta-3-down: calc(-1 * var(--c-delta-3));
    --c-delta-4-down: calc(-1 * var(--c-delta-4)); --c-delta-5-down: calc(-1 * var(--c-delta-5));
    --c-delta-6-down: calc(-1 * var(--c-delta-6)); --c-delta-7-down: calc(-1 * var(--c-delta-7));
    --c-delta-8-down: calc(-1 * var(--c-delta-8)); --c-delta-9-down: calc(-1 * var(--c-delta-9));
    --c-delta-10-down: calc(-1 * var(--c-delta-10));

    /* Auto Contrast Calculation */
    --auto-contrast-text: oklch(
      from var(--bg, var(--base))
      clamp(0.1, (var(--l-threshold, 0.65) / l - 1) * 999, 0.98)
      min(c, var(--c-threshold, 0.08))
      h
    );
  }
}

/* ================================================ */
/* ==               @layer theme                 == */
/* ================================================ */
@layer theme {
  /* Light Mode Theme */
  :root {
    /* Config */
    --accent-h: var(--hue-violet); --accent-c: 0.15; --accent-l: 60%;
    --secondary-hue-shift: 60; --tertiary-hue-shift: -90;
    --surface-c: 0.015; --contrast-factor: 1.0;
    --l-threshold: 0.65; --c-threshold: 0.08;
    --border-width: 1px; --border-width-thick: 2px; --border-width-thin: 0.5px;
    --radius-sm: 3px; --radius-md: 6px; --radius-lg: 8px; --radius-xl: 12px; --radius-full: 9999px;
    
    /* Enhanced Focus State Variables */
    --focus-ring-width: 2px;
    --focus-ring-offset: 2px;
    --focus-ring-color: var(--outline-focus);
    --focus-ring-style: solid;
    
    /* Form element specific focus states */
    --input-focus-ring-width: var(--focus-ring-width);
    --input-focus-ring-offset: 0px;
    --input-focus-bg: transparent;
    --input-hover-border-color: var(--outline-overt);
    
    /* Enhanced link styling variables */
    --link-decoration: none;
    --link-decoration-hover: underline;
    --link-underline-thickness: 1.5px;
    --link-underline-offset: 0.15em;
    --link-transition-duration: var(--transition-duration, 150ms);
    --link-transition-timing: var(--transition-timing, ease-out);
    
    /* Container query configuration */
    --cq-type: inline-size;
    --cq-name: default;
    /* Derived Hues */
    --secondary-h: calc(mod((var(--accent-h) + var(--secondary-hue-shift)), 360));
    --tertiary-h: calc(mod((var(--accent-h) + var(--tertiary-hue-shift)), 360));
    --neutral-h: var(--accent-h);
    /* Feedback Hues */
    --success-h: var(--hue-green); --warning-h: var(--hue-amber); --error-h: var(--hue-red); --info-h: var(--hue-blue);

    /* Semantic Color Roles (Light Mode) */
    /* Base & Bedrock */
    --base: oklch(98% calc(var(--surface-c) * 0.8) var(--neutral-h)); /* Use neutral hue for base */
    --bedrock: oklch(20% calc(var(--surface-c) * 1.2) var(--neutral-h));
    /* Surfaces */
    --surface-muted: oklch(99.5% calc(var(--surface-c) * 0.5) var(--neutral-h));
    --surface-subtle: oklch(96% calc(var(--surface-c) * 0.8) var(--neutral-h)); /* Often neutral is better than secondary */
    --surface-default: oklch(92% var(--surface-c) var(--neutral-h));
    --surface-overt: oklch(89% calc(var(--surface-c) * 1.2) var(--neutral-h));
    /* Text */
    --text-muted: oklch(45% calc(var(--surface-c) * 1.5) var(--neutral-h) / 0.8);
    --text-subtle: oklch(35% calc(var(--surface-c) * 1.8) var(--neutral-h));
    --text-default: oklch(20% calc(var(--surface-c) * 2) var(--neutral-h));
    --text-overt: oklch(10% calc(var(--surface-c) * 2.2) var(--neutral-h));
    /* Links & Highlights */
    --text-link: oklch(from var(--accent) calc(l + var(--l-delta-1-down)) calc(c + var(--c-delta-1)) h);
    --text-link-hover: oklch(from var(--text-link) calc(l + var(--l-delta-2-down)) c h);
    --text-highlight-subtle: oklch(from var(--accent) calc(l + var(--l-delta-2)) calc(c + var(--c-delta-1-down)) h);
    --text-highlight-overt: oklch(from var(--accent) calc(l + var(--l-delta-1-down)) calc(c + var(--c-delta-1)) h);
    --text-highlight-bg: oklch(from var(--accent) calc(l + var(--l-delta-12)) calc(c + var(--c-delta-7-down)) h);
    /* Outlines */
    --outline-muted: oklch(from var(--base) calc(l + var(--l-delta-4-down)) calc(c + var(--c-delta-2-down)) h / 0.5);
    --outline-subtle: oklch(from var(--base) calc(l + var(--l-delta-5-down)) c h);
    --outline-default: oklch(from var(--base) calc(l + var(--l-delta-6-down)) calc(c + var(--c-delta-1)) h);
    --outline-overt: oklch(from var(--base) calc(l + var(--l-delta-7-down)) calc(c + var(--c-delta-2)) h);
    --outline-focus: oklch(var(--accent-l) var(--accent-c) var(--accent-h));
    --outline-active: oklch(from var(--accent) calc(l + var(--l-delta-2-down)) calc(c + var(--c-delta-1)) h);
    --outline-highlight-subtle: oklch(from var(--accent) calc(l + var(--l-delta-7)) calc(c + var(--c-delta-4-down)) h);
    --outline-highlight-overt: oklch(from var(--accent) calc(l + var(--l-delta-4)) calc(c + var(--c-delta-2-down)) h);
    /* Highlights (Interaction Backgrounds) */
    --highlight-bg-muted: oklch(from var(--base) calc(l + var(--l-delta-1-down)) c h);
    --highlight-bg-subtle: oklch(from var(--base) calc(l + var(--l-delta-3-down)) c h);
    --highlight-bg-overt: oklch(from var(--accent) calc(l + var(--l-delta-10)) calc(c + var(--c-delta-6-down)) h);
    /* Accent Family */
    --accent: oklch(var(--accent-l) var(--accent-c) var(--accent-h));
    --accent-muted: oklch(from var(--accent) calc(l + var(--l-delta-5)) calc(c + var(--c-delta-3-down)) h);
    --accent-subtle: oklch(from var(--accent) calc(l + var(--l-delta-2)) calc(c + var(--c-delta-1-down)) h);
    --accent-overt: oklch(from var(--accent) calc(l + var(--l-delta-3-down)) calc(c + var(--c-delta-1)) h);
    /* Secondary Family */
    --secondary-l: var(--accent-l); --secondary-c: var(--accent-c);
    --secondary: oklch(var(--secondary-l) var(--secondary-c) var(--secondary-h));
    --secondary-muted: oklch(from var(--secondary) calc(l + var(--l-delta-5)) calc(c + var(--c-delta-3-down)) h);
    --secondary-subtle: oklch(from var(--secondary) calc(l + var(--l-delta-2)) calc(c + var(--c-delta-1-down)) h);
    --secondary-overt: oklch(from var(--secondary) calc(l + var(--l-delta-3-down)) calc(c + var(--c-delta-1)) h);
    /* Tertiary Family */
    --tertiary-l: var(--accent-l); --tertiary-c: var(--accent-c);
    --tertiary: oklch(var(--tertiary-l) var(--tertiary-c) var(--tertiary-h));
    --tertiary-muted: oklch(from var(--tertiary) calc(l + var(--l-delta-5)) calc(c + var(--c-delta-3-down)) h);
    --tertiary-subtle: oklch(from var(--tertiary) calc(l + var(--l-delta-2)) calc(c + var(--c-delta-1-down)) h);
    --tertiary-overt: oklch(from var(--tertiary) calc(l + var(--l-delta-3-down)) calc(c + var(--c-delta-1)) h);
    /* Feedback Family */
    --success-c: 0.15; --success-l: 55%;
    --warning-c: 0.15; --warning-l: 70%;
    --error-c: 0.2; --error-l: 60%;
    --info-c: 0.15; --info-l: 65%;
    --success: oklch(var(--success-l) var(--success-c) var(--success-h));
    --warning: oklch(var(--warning-l) var(--warning-c) var(--warning-h));
    --error: oklch(var(--error-l) var(--error-c) var(--error-h));
    --info: oklch(var(--info-l) var(--info-c) var(--info-h));
    --text-success: var(--success); --text-warning: var(--warning); --text-error: var(--error); --text-info: var(--info);
    --surface-success: oklch(from var(--success) calc(l + var(--l-delta-11)) calc(c + var(--c-delta-6-down)) h);
    --surface-warning: oklch(from var(--warning) calc(l + var(--l-delta-10)) calc(c + var(--c-delta-6-down)) h);
    --surface-error: oklch(from var(--error) calc(l + var(--l-delta-10)) calc(c + var(--c-delta-7-down)) h);
    --surface-info: oklch(from var(--info) calc(l + var(--l-delta-10)) calc(c + var(--c-delta-6-down)) h);
    --outline-success: oklch(from var(--success) calc(l + var(--l-delta-2-down)) calc(c + var(--c-delta-1)) h);
    --outline-warning: oklch(from var(--warning) calc(l + var(--l-delta-1-down)) calc(c + var(--c-delta-1)) h);
    --outline-error: oklch(from var(--error) calc(l + var(--l-delta-1-down)) calc(c + var(--c-delta-1)) h);
    --outline-info: oklch(from var(--info) calc(l + var(--l-delta-1-down)) calc(c + var(--c-delta-1)) h);
    /* Auto-contrast text roles (will be calculated by browser using --auto-contrast-text) */
    --text-on-base: ; --text-on-bedrock: ; --text-on-surface-muted: ; --text-on-surface-subtle: ;
    --text-on-surface-default: ; --text-on-surface-overt: ;
    --text-on-accent: ; --text-on-accent-muted: ; --text-on-accent-subtle: ; --text-on-accent-overt: ;
    --text-on-secondary: ; --text-on-secondary-muted: ; --text-on-secondary-subtle: ; --text-on-secondary-overt: ;
    --text-on-tertiary: ; --text-on-tertiary-muted: ; --text-on-tertiary-subtle: ; --text-on-tertiary-overt: ;
    --text-on-highlight-muted: ; --text-on-highlight-subtle: ; --text-on-highlight-overt: ;
    --text-on-success: ; --text-on-warning: ; --text-on-error: ; --text-on-info: ;
    /* Specific Component Roles */
    --indicator-color: var(--text-on-accent); /* Checkbox/Radio checkmark */
    --scrollbar-thumb-color: var(--outline-default);
    --scrollbar-track-color: var(--surface-subtle);
    --hr-color: var(--outline-subtle);
    --table-border: var(--outline-default);
    --table-header-bg: var(--surface-subtle);
    --table-row-hover-bg: var(--highlight-bg-subtle);
    --code-block-bg: var(--surface-subtle);
    --code-block-border: var(--outline-subtle);
    --code-inline-bg: var(--surface-muted);
    --code-inline-border: var(--outline-muted);
    --blockquote-border: var(--outline-default);
  }
  /* Dark Mode Theme */
  @media (prefers-color-scheme: dark) {
    :root {
      /* Dark Mode Config Overrides */
      --accent-l: 70%; --accent-c: 0.18;
      --surface-c: 0.02; --l-threshold: 0.6;
      /* Dark Mode Role Overrides */
      --base: oklch(18% calc(var(--surface-c) * 0.8) var(--neutral-h));
      --bedrock: oklch(95% calc(var(--surface-c) * 0.7) var(--neutral-h));
      --surface-muted: oklch(15% calc(var(--surface-c) * 0.5) var(--neutral-h));
      --surface-subtle: oklch(23% calc(var(--surface-c) * 0.8) var(--neutral-h));
      --surface-default: oklch(27% var(--surface-c) var(--neutral-h));
      --surface-overt: oklch(30% calc(var(--surface-c) * 1.2) var(--neutral-h));
      --text-muted: oklch(65% calc(var(--surface-c) * 1.2) var(--neutral-h) / 0.8);
      --text-subtle: oklch(75% calc(var(--surface-c) * 1.0) var(--neutral-h));
      --text-default: oklch(88% calc(var(--surface-c) * 0.8) var(--neutral-h));
      --text-overt: oklch(95% calc(var(--surface-c) * 0.6) var(--neutral-h));
      --text-link: oklch(from var(--accent) calc(l + var(--l-delta-1)) calc(c + var(--c-delta-1-down)) h);
      --text-link-hover: oklch(from var(--text-link) calc(l + var(--l-delta-2)) c h);
      --text-highlight-bg: oklch(from var(--accent) calc(l + var(--l-delta-10-down)) calc(c + var(--c-delta-4-down)) h);
      --outline-subtle: oklch(from var(--base) calc(l + var(--l-delta-5)) c h);
      --outline-default: oklch(from var(--base) calc(l + var(--l-delta-6)) calc(c + var(--c-delta-1)) h);
      --outline-overt: oklch(from var(--base) calc(l + var(--l-delta-7)) calc(c + var(--c-delta-2)) h);
      --outline-active: oklch(from var(--accent) calc(l + var(--l-delta-2)) calc(c + var(--c-delta-1)) h);
      --outline-highlight-subtle: oklch(from var(--accent) calc(l + var(--l-delta-5-down)) calc(c + var(--c-delta-3-down)) h);
      --outline-highlight-overt: oklch(from var(--accent) calc(l + var(--l-delta-2-down)) calc(c + var(--c-delta-1-down)) h);
      --highlight-bg-muted: oklch(from var(--base) calc(l + var(--l-delta-1)) c h);
      --highlight-bg-subtle: oklch(from var(--base) calc(l + var(--l-delta-3)) c h);
      --highlight-bg-overt: oklch(from var(--accent) calc(l + var(--l-delta-7-down)) calc(c + var(--c-delta-4-down)) h);
      /* Dark Mode Feedback Roles */
      --success-l: 65%; --warning-l: 75%; --error-l: 70%; --info-l: 75%;
      /* Recalculate main, text, outline */
      --success: oklch(var(--success-l) var(--success-c) var(--success-h));
      --warning: oklch(var(--warning-l) var(--warning-c) var(--warning-h));
      --error: oklch(var(--error-l) var(--error-c) var(--error-h));
      --info: oklch(var(--info-l) var(--info-c) var(--info-h));
      --text-success: var(--success); --text-warning: var(--warning); --text-error: var(--error); --text-info: var(--info);
      --surface-success: oklch(from var(--success) calc(l + var(--l-delta-9-down)) calc(c + var(--c-delta-5-down)) h);
      --surface-warning: oklch(from var(--warning) calc(l + var(--l-delta-8-down)) calc(c + var(--c-delta-5-down)) h);
      --surface-error: oklch(from var(--error) calc(l + var(--l-delta-8-down)) calc(c + var(--c-delta-6-down)) h);
      --surface-info: oklch(from var(--info) calc(l + var(--l-delta-8-down)) calc(c + var(--c-delta-5-down)) h);
      --outline-success: oklch(from var(--success) calc(l + var(--l-delta-1)) calc(c + var(--c-delta-1-down)) h);
      --outline-warning: oklch(from var(--warning) calc(l + var(--l-delta-1)) calc(c + var(--c-delta-1-down)) h);
      --outline-error: oklch(from var(--error) calc(l + var(--l-delta-1)) calc(c + var(--c-delta-1-down)) h);
      --outline-info: oklch(from var(--info) calc(l + var(--l-delta-1)) calc(c + var(--c-delta-1-down)) h);
      /* Dark mode specific component roles */
       --scrollbar-thumb-color: var(--outline-overt);
       --scrollbar-track-color: var(--surface-subtle);
       --hr-color: var(--outline-subtle);
       --table-border: var(--outline-default);
       --table-header-bg: var(--surface-subtle);
       --table-row-hover-bg: var(--highlight-bg-subtle);
       --code-block-bg: var(--surface-muted); /* Darker code blocks */
       --code-block-border: var(--outline-subtle);
       --code-inline-bg: var(--surface-muted);
       --code-inline-border: var(--outline-muted);
       --blockquote-border: var(--outline-default);
       
       /* Dark mode shadow adjustments */
       --shadow-color-base: var(--shadow-color-dark);
       --shadow-sm: 0 1px 2px oklch(from hsl(var(--shadow-color-base)) l c h / 10%);
       --shadow-md: 0 4px 6px -1px oklch(from hsl(var(--shadow-color-base)) l c h / 12%), 
                    0 2px 4px -2px oklch(from hsl(var(--shadow-color-base)) l c h / 12%);
       --shadow-lg: 0 10px 15px -3px oklch(from hsl(var(--shadow-color-base)) l c h / 12%), 
                    0 4px 6px -4px oklch(from hsl(var(--shadow-color-base)) l c h / 12%);
       --shadow-xl: 0 20px 25px -5px oklch(from hsl(var(--shadow-color-base)) l c h / 12%), 
                    0 8px 10px -6px oklch(from hsl(var(--shadow-color-base)) l c h / 12%);
       --shadow-inner: inset 0 2px 4px 0 oklch(from hsl(var(--shadow-color-base)) l c h / 7%);
    }
  }
  /* High Contrast Mode Theme */
  @media (prefers-contrast: high) {
    :root { /* High Contrast Light */
      /* Refine existing contrast settings */
      --contrast-factor: 1.3;
      --l-threshold: 0.6;
      --c-threshold: 0.05;
      --surface-c: 0.005;
      
      /* Enhanced focus states */
      --focus-ring-width: 3px;
      --outline-focus: oklch(0.5 0.3 var(--accent-h));
      
      /* Increase border contrast */
      --border-width: 1.5px;
      --border-width-thick: 3px;
      
      /* Enhance text contrast */
      --text-subtle: oklch(0.3 0.03 var(--neutral-h));
      --text-muted: oklch(0.25 0.02 var(--neutral-h));
      
      /* Form elements */
      --outline-overt: oklch(0.4 0.1 var(--accent-h));
      --indicator-color: oklch(0 0 0);
    }
    
    @media (prefers-color-scheme: dark) { /* High Contrast Dark */
      :root {
        --contrast-factor: 1.3;
        --l-threshold: 0.55;
        --c-threshold: 0.05;
        --surface-c: 0.01;
        
        /* Dark-specific high contrast adjustments */
        --text-subtle: oklch(0.85 0.02 var(--neutral-h));
        --text-muted: oklch(0.9 0.01 var(--neutral-h));
        --outline-overt: oklch(0.8 0.1 var(--accent-h));
        --indicator-color: oklch(1 0 0);
      }
    }
    
    /* Enhanced component contrast */
    input, select, textarea {
      border-width: var(--border-width-thick);
    }
    
    input[type="checkbox"], input[type="radio"] {
      border-width: 2px;
    }
  }
  /* Apply Theme Specific Styles */
  html {
    scrollbar-color: var(--scrollbar-thumb-color) var(--scrollbar-track-color);
  }
  ::selection {
    background-color: var(--highlight-bg-overt);
    color: var(--text-on-highlight-overt); /* Requires --bg correctly set or browser calculation */
  }
}

/* ================================================ */
/* ==               @layer palette               == */
/* ================================================ */
@layer palette {
  :root {
    /* Max Chroma Clamps */
    --clamp-max-c-0: var(--max-chroma-0); --clamp-max-c-1: var(--max-chroma-1);
    --clamp-max-c-2: var(--max-chroma-2); --clamp-max-c-3: var(--max-chroma-3);
    --clamp-max-c-4: var(--max-chroma-4); --clamp-max-c-5: var(--max-chroma-5);
    --clamp-max-c-6: var(--max-chroma-6);
    --clamp-error-max-c-2: calc(var(--max-chroma-2) * 1.1); --clamp-error-max-c-3: calc(var(--max-chroma-3) * 1.1); --clamp-error-max-c-4: calc(var(--max-chroma-4) * 1.1);
    --clamp-orange-max-c-2: calc(var(--max-chroma-2) * 1.1); --clamp-orange-max-c-3: calc(var(--max-chroma-3) * 1.1); --clamp-orange-max-c-4: calc(var(--max-chroma-4) * 1.1);
    --clamp-neutral-max-c-0: calc(var(--max-chroma-0) * 0.5); --clamp-neutral-max-c-1: calc(var(--max-chroma-1) * 0.5); --clamp-neutral-max-c-2: calc(var(--max-chroma-2) * 0.5);
    --clamp-neutral-max-c-3: calc(var(--max-chroma-3) * 0.5); --clamp-neutral-max-c-4: calc(var(--max-chroma-4) * 0.5); --clamp-neutral-max-c-5: calc(var(--max-chroma-5) * 0.5); --clamp-neutral-max-c-6: calc(var(--max-chroma-6) * 0.5);

    /* Gray Scale */
    --gray-0: oklch(var(--scale-l-0) 0 0); --gray-1: oklch(var(--scale-l-1) 0 0); --gray-2: oklch(var(--scale-l-2) 0 0); --gray-3: oklch(var(--scale-l-3) 0 0); --gray-4: oklch(var(--scale-l-4) 0 0); --gray-5: oklch(var(--scale-l-5) 0 0); --gray-6: oklch(var(--scale-l-6) 0 0); --gray-7: oklch(var(--scale-l-7) 0 0); --gray-8: oklch(var(--scale-l-8) 0 0); --gray-9: oklch(var(--scale-l-9) 0 0); --gray-10: oklch(var(--scale-l-10) 0 0); --gray-11: oklch(var(--scale-l-11) 0 0); --gray-12: oklch(var(--scale-l-12) 0 0);
    /* Neutral Scale */
    --neutral-0: oklch(var(--scale-l-0) min(var(--scale-c-0), var(--clamp-neutral-max-c-0)) var(--neutral-h)); --neutral-1: oklch(var(--scale-l-1) min(var(--scale-c-1), var(--clamp-neutral-max-c-0)) var(--neutral-h)); --neutral-2: oklch(var(--scale-l-2) min(var(--scale-c-1), var(--clamp-neutral-max-c-1)) var(--neutral-h)); --neutral-3: oklch(var(--scale-l-3) min(var(--scale-c-1), var(--clamp-neutral-max-c-1)) var(--neutral-h)); --neutral-4: oklch(var(--scale-l-4) min(var(--scale-c-1), var(--clamp-neutral-max-c-2)) var(--neutral-h)); --neutral-5: oklch(var(--scale-l-5) min(var(--scale-c-2), var(--clamp-neutral-max-c-2)) var(--neutral-h)); --neutral-6: oklch(var(--scale-l-6) min(var(--scale-c-2), var(--clamp-neutral-max-c-3)) var(--neutral-h)); --neutral-7: oklch(var(--scale-l-7) min(var(--scale-c-2), var(--clamp-neutral-max-c-3)) var(--neutral-h)); --neutral-8: oklch(var(--scale-l-8) min(var(--scale-c-2), var(--clamp-neutral-max-c-4)) var(--neutral-h)); --neutral-9: oklch(var(--scale-l-9) min(var(--scale-c-2), var(--clamp-neutral-max-c-4)) var(--neutral-h)); --neutral-10: oklch(var(--scale-l-10) min(var(--scale-c-1), var(--clamp-neutral-max-c-5)) var(--neutral-h)); --neutral-11: oklch(var(--scale-l-11) min(var(--scale-c-1), var(--clamp-neutral-max-c-5)) var(--neutral-h)); --neutral-12: oklch(var(--scale-l-12) min(var(--scale-c-1), var(--clamp-neutral-max-c-6)) var(--neutral-h));
    /* Accent Scale */
    --accent-palette-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--accent-h)); --accent-palette-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--accent-h)); --accent-palette-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--accent-h)); --accent-palette-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--accent-h)); --accent-palette-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--accent-h)); --accent-palette-5: oklch(var(--scale-l-5) min(var(--scale-c-7), var(--clamp-max-c-2)) var(--accent-h)); --accent-palette-6: oklch(var(--scale-l-6) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--accent-h)); --accent-palette-7: oklch(var(--scale-l-7) min(var(--scale-c-9), var(--clamp-max-c-3)) var(--accent-h)); --accent-palette-8: oklch(var(--scale-l-8) min(var(--scale-c-8), var(--clamp-max-c-4)) var(--accent-h)); --accent-palette-9: oklch(var(--scale-l-9) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--accent-h)); --accent-palette-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--accent-h)); --accent-palette-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--accent-h)); --accent-palette-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--accent-h));
    /* Secondary Scale */
    --secondary-palette-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--secondary-h)); --secondary-palette-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--secondary-h)); --secondary-palette-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--secondary-h)); --secondary-palette-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--secondary-h)); --secondary-palette-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--secondary-h)); --secondary-palette-5: oklch(var(--scale-l-5) min(var(--scale-c-7), var(--clamp-max-c-2)) var(--secondary-h)); --secondary-palette-6: oklch(var(--scale-l-6) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--secondary-h)); --secondary-palette-7: oklch(var(--scale-l-7) min(var(--scale-c-9), var(--clamp-max-c-3)) var(--secondary-h)); --secondary-palette-8: oklch(var(--scale-l-8) min(var(--scale-c-8), var(--clamp-max-c-4)) var(--secondary-h)); --secondary-palette-9: oklch(var(--scale-l-9) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--secondary-h)); --secondary-palette-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--secondary-h)); --secondary-palette-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--secondary-h)); --secondary-palette-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--secondary-h));
    /* Tertiary Scale */
    --tertiary-palette-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--tertiary-h)); --tertiary-palette-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--tertiary-h)); --tertiary-palette-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--tertiary-h)); --tertiary-palette-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--tertiary-h)); --tertiary-palette-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--tertiary-h)); --tertiary-palette-5: oklch(var(--scale-l-5) min(var(--scale-c-7), var(--clamp-max-c-2)) var(--tertiary-h)); --tertiary-palette-6: oklch(var(--scale-l-6) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--tertiary-h)); --tertiary-palette-7: oklch(var(--scale-l-7) min(var(--scale-c-9), var(--clamp-max-c-3)) var(--tertiary-h)); --tertiary-palette-8: oklch(var(--scale-l-8) min(var(--scale-c-8), var(--clamp-max-c-4)) var(--tertiary-h)); --tertiary-palette-9: oklch(var(--scale-l-9) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--tertiary-h)); --tertiary-palette-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--tertiary-h)); --tertiary-palette-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--tertiary-h)); --tertiary-palette-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--tertiary-h));
    /* Feedback Scales (Success, Warning, Error, Info) */
    /* Success Palette */
    --success-palette-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--success-h));
    --success-palette-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--success-h));
    --success-palette-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--success-h));
    --success-palette-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--success-h));
    --success-palette-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--success-h));
    --success-palette-5: oklch(var(--scale-l-5) min(var(--scale-c-7), var(--clamp-max-c-2)) var(--success-h));
    --success-palette-6: oklch(var(--scale-l-6) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--success-h));
    --success-palette-7: oklch(var(--scale-l-7) min(var(--scale-c-9), var(--clamp-max-c-3)) var(--success-h));
    --success-palette-8: oklch(var(--scale-l-8) min(var(--scale-c-8), var(--clamp-max-c-4)) var(--success-h));
    --success-palette-9: oklch(var(--scale-l-9) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--success-h));
    --success-palette-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--success-h));
    --success-palette-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--success-h));
    --success-palette-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--success-h));
    
    /* Warning Palette */
    --warning-palette-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--warning-h));
    --warning-palette-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--warning-h));
    --warning-palette-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--warning-h));
    --warning-palette-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--warning-h));
    --warning-palette-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--warning-h));
    --warning-palette-5: oklch(var(--scale-l-5) min(var(--scale-c-7), var(--clamp-max-c-2)) var(--warning-h));
    --warning-palette-6: oklch(var(--scale-l-6) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--warning-h));
    --warning-palette-7: oklch(var(--scale-l-7) min(var(--scale-c-9), var(--clamp-max-c-3)) var(--warning-h));
    --warning-palette-8: oklch(var(--scale-l-8) min(var(--scale-c-8), var(--clamp-max-c-4)) var(--warning-h));
    --warning-palette-9: oklch(var(--scale-l-9) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--warning-h));
    --warning-palette-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--warning-h));
    --warning-palette-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--warning-h));
    --warning-palette-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--warning-h));
    
    /* Error Palette */
    --error-palette-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--error-h));
    --error-palette-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--error-h));
    --error-palette-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--error-h));
    --error-palette-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--error-h));
    --error-palette-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-error-max-c-2, var(--clamp-max-c-2))) var(--error-h));
    --error-palette-5: oklch(var(--scale-l-5) min(var(--scale-c-7), var(--clamp-error-max-c-2, var(--clamp-max-c-2))) var(--error-h));
    --error-palette-6: oklch(var(--scale-l-6) min(var(--scale-c-8), var(--clamp-error-max-c-3, var(--clamp-max-c-3))) var(--error-h));
    --error-palette-7: oklch(var(--scale-l-7) min(var(--scale-c-9), var(--clamp-error-max-c-3, var(--clamp-max-c-3))) var(--error-h));
    --error-palette-8: oklch(var(--scale-l-8) min(var(--scale-c-8), var(--clamp-error-max-c-4, var(--clamp-max-c-4))) var(--error-h));
    --error-palette-9: oklch(var(--scale-l-9) min(var(--scale-c-7), var(--clamp-error-max-c-4, var(--clamp-max-c-4))) var(--error-h));
    --error-palette-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--error-h));
    --error-palette-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--error-h));
    --error-palette-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--error-h));
    
    /* Info Palette */
    --info-palette-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--info-h));
    --info-palette-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--info-h));
    --info-palette-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--info-h));
    --info-palette-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--info-h));
    --info-palette-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--info-h));
    --info-palette-5: oklch(var(--scale-l-5) min(var(--scale-c-7), var(--clamp-max-c-2)) var(--info-h));
    --info-palette-6: oklch(var(--scale-l-6) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--info-h));
    --info-palette-7: oklch(var(--scale-l-7) min(var(--scale-c-9), var(--clamp-max-c-3)) var(--info-h));
    --info-palette-8: oklch(var(--scale-l-8) min(var(--scale-c-8), var(--clamp-max-c-4)) var(--info-h));
    --info-palette-9: oklch(var(--scale-l-9) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--info-h));
    --info-palette-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--info-h));
    --info-palette-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--info-h));
    --info-palette-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--info-h));

    /* == Extended Palette (Common Colors) == */
    /* Blue Scale */
    --blue-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-blue)); --blue-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-blue)); --blue-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-blue)); --blue-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-blue)); --blue-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-blue)); --blue-5: oklch(var(--scale-l-5) min(var(--scale-c-7), var(--clamp-max-c-2)) var(--hue-blue)); --blue-6: oklch(var(--scale-l-6) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-blue)); --blue-7: oklch(var(--scale-l-7) min(var(--scale-c-9), var(--clamp-max-c-3)) var(--hue-blue)); --blue-8: oklch(var(--scale-l-8) min(var(--scale-c-8), var(--clamp-max-c-4)) var(--hue-blue)); --blue-9: oklch(var(--scale-l-9) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-blue)); --blue-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-blue)); --blue-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-blue)); --blue-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-blue));
    
    /* Red Scale */
    --red-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-red)); --red-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-red)); --red-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-red)); --red-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-red)); --red-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-error-max-c-2, var(--clamp-max-c-2))) var(--hue-red)); --red-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-error-max-c-2, var(--clamp-max-c-2))) var(--hue-red)); --red-6: oklch(var(--scale-l-6) min(var(--scale-c-8), var(--clamp-error-max-c-3, var(--clamp-max-c-3))) var(--hue-red)); --red-7: oklch(var(--scale-l-7) min(var(--scale-c-9), var(--clamp-error-max-c-3, var(--clamp-max-c-3))) var(--hue-red)); --red-8: oklch(var(--scale-l-8) min(var(--scale-c-9), var(--clamp-error-max-c-4, var(--clamp-max-c-4))) var(--hue-red)); --red-9: oklch(var(--scale-l-9) min(var(--scale-c-7), var(--clamp-error-max-c-4, var(--clamp-max-c-4))) var(--hue-red)); --red-10: oklch(var(--scale-l-10) min(var(--scale-c-6), var(--clamp-max-c-5)) var(--hue-red)); --red-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-red)); --red-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-red));
    
    /* Green Scale */
    --green-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-green)); --green-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-green)); --green-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-green)); --green-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-green)); --green-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-green)); --green-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-green)); --green-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-green)); --green-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-green)); --green-8: oklch(var(--scale-l-8) min(var(--scale-c-8), var(--clamp-max-c-4)) var(--hue-green)); --green-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-green)); --green-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-green)); --green-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-green)); --green-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-green));
    
    /* Slate Scale */
    --slate-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-slate)); --slate-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-slate)); --slate-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-slate)); --slate-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-slate)); --slate-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-slate)); --slate-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-slate)); --slate-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-slate)); --slate-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-slate)); --slate-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-slate)); --slate-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-slate)); --slate-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-slate)); --slate-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-slate)); --slate-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-slate));
    
    /* Orange Scale */
    --orange-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-orange)); --orange-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-orange)); --orange-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-orange)); --orange-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-orange)); --orange-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-orange-max-c-2, var(--clamp-max-c-2))) var(--hue-orange)); --orange-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-orange-max-c-2, var(--clamp-max-c-2))) var(--hue-orange)); --orange-6: oklch(var(--scale-l-6) min(var(--scale-c-8), var(--clamp-orange-max-c-3, var(--clamp-max-c-3))) var(--hue-orange)); --orange-7: oklch(var(--scale-l-7) min(var(--scale-c-9), var(--clamp-orange-max-c-3, var(--clamp-max-c-3))) var(--hue-orange)); --orange-8: oklch(var(--scale-l-8) min(var(--scale-c-8), var(--clamp-orange-max-c-4, var(--clamp-max-c-4))) var(--hue-orange)); --orange-9: oklch(var(--scale-l-9) min(var(--scale-c-7), var(--clamp-orange-max-c-4, var(--clamp-max-c-4))) var(--hue-orange)); --orange-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-orange)); --orange-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-orange)); --orange-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-orange));
    
    /* Amber Scale */
    --amber-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-amber)); --amber-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-amber)); --amber-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-amber)); --amber-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-amber)); --amber-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-amber)); --amber-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-amber)); --amber-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-amber)); --amber-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-amber)); --amber-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-amber)); --amber-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-amber)); --amber-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-amber)); --amber-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-amber)); --amber-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-amber));
    
    /* Yellow Scale */
    --yellow-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-yellow)); --yellow-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-yellow)); --yellow-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-yellow)); --yellow-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-yellow)); --yellow-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-yellow)); --yellow-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-yellow)); --yellow-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-yellow)); --yellow-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-yellow)); --yellow-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-yellow)); --yellow-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-yellow)); --yellow-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-yellow)); --yellow-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-yellow)); --yellow-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-yellow));
    
    /* Lime Scale */
    --lime-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-lime)); --lime-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-lime)); --lime-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-lime)); --lime-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-lime)); --lime-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-lime)); --lime-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-lime)); --lime-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-lime)); --lime-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-lime)); --lime-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-lime)); --lime-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-lime)); --lime-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-lime)); --lime-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-lime)); --lime-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-lime));
    
    /* Emerald Scale */
    --emerald-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-emerald)); --emerald-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-emerald)); --emerald-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-emerald)); --emerald-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-emerald)); --emerald-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-emerald)); --emerald-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-emerald)); --emerald-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-emerald)); --emerald-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-emerald)); --emerald-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-emerald)); --emerald-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-emerald)); --emerald-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-emerald)); --emerald-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-emerald)); --emerald-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-emerald));
    
    /* Teal Scale */
    --teal-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-teal)); --teal-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-teal)); --teal-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-teal)); --teal-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-teal)); --teal-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-teal)); --teal-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-teal)); --teal-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-teal)); --teal-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-teal)); --teal-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-teal)); --teal-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-teal)); --teal-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-teal)); --teal-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-teal)); --teal-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-teal));
    
    /* Cyan Scale */
    --cyan-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-cyan)); --cyan-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-cyan)); --cyan-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-cyan)); --cyan-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-cyan)); --cyan-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-cyan)); --cyan-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-cyan)); --cyan-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-cyan)); --cyan-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-cyan)); --cyan-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-cyan)); --cyan-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-cyan)); --cyan-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-cyan)); --cyan-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-cyan)); --cyan-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-cyan));
    
    /* Sky Scale */
    --sky-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-sky)); --sky-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-sky)); --sky-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-sky)); --sky-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-sky)); --sky-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-sky)); --sky-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-sky)); --sky-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-sky)); --sky-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-sky)); --sky-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-sky)); --sky-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-sky)); --sky-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-sky)); --sky-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-sky)); --sky-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-sky));
    
    /* Indigo Scale */
    --indigo-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-indigo)); --indigo-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-indigo)); --indigo-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-indigo)); --indigo-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-indigo)); --indigo-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-indigo)); --indigo-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-indigo)); --indigo-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-indigo)); --indigo-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-indigo)); --indigo-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-indigo)); --indigo-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-indigo)); --indigo-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-indigo)); --indigo-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-indigo)); --indigo-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-indigo));
    
    /* Violet Scale */
    --violet-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-violet)); --violet-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-violet)); --violet-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-violet)); --violet-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-violet)); --violet-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-violet)); --violet-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-violet)); --violet-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-violet)); --violet-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-violet)); --violet-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-violet)); --violet-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-violet)); --violet-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-violet)); --violet-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-violet)); --violet-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-violet));
    
    /* Purple Scale */
    --purple-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-purple)); --purple-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-purple)); --purple-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-purple)); --purple-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-purple)); --purple-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-purple)); --purple-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-purple)); --purple-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-purple)); --purple-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-purple)); --purple-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-purple)); --purple-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-purple)); --purple-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-purple)); --purple-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-purple)); --purple-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-purple));
    
    /* Fuchsia Scale */
    --fuchsia-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-fuchsia)); --fuchsia-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-fuchsia)); --fuchsia-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-fuchsia)); --fuchsia-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-fuchsia)); --fuchsia-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-fuchsia)); --fuchsia-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-fuchsia)); --fuchsia-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-fuchsia)); --fuchsia-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-fuchsia)); --fuchsia-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-fuchsia)); --fuchsia-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-fuchsia)); --fuchsia-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-fuchsia)); --fuchsia-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-fuchsia)); --fuchsia-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-fuchsia));
    
    /* Pink Scale */
    --pink-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-pink)); --pink-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-pink)); --pink-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-pink)); --pink-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-pink)); --pink-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-pink)); --pink-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-pink)); --pink-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-pink)); --pink-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-pink)); --pink-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-pink)); --pink-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-pink)); --pink-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-pink)); --pink-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-pink)); --pink-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-pink));
    
    /* Rose Scale */
    --rose-0: oklch(var(--scale-l-0) min(var(--scale-c-1), var(--clamp-max-c-0)) var(--hue-rose)); --rose-1: oklch(var(--scale-l-1) min(var(--scale-c-2), var(--clamp-max-c-0)) var(--hue-rose)); --rose-2: oklch(var(--scale-l-2) min(var(--scale-c-3), var(--clamp-max-c-1)) var(--hue-rose)); --rose-3: oklch(var(--scale-l-3) min(var(--scale-c-4), var(--clamp-max-c-1)) var(--hue-rose)); --rose-4: oklch(var(--scale-l-4) min(var(--scale-c-5), var(--clamp-max-c-2)) var(--hue-rose)); --rose-5: oklch(var(--scale-l-5) min(var(--scale-c-6), var(--clamp-max-c-2)) var(--hue-rose)); --rose-6: oklch(var(--scale-l-6) min(var(--scale-c-7), var(--clamp-max-c-3)) var(--hue-rose)); --rose-7: oklch(var(--scale-l-7) min(var(--scale-c-8), var(--clamp-max-c-3)) var(--hue-rose)); --rose-8: oklch(var(--scale-l-8) min(var(--scale-c-7), var(--clamp-max-c-4)) var(--hue-rose)); --rose-9: oklch(var(--scale-l-9) min(var(--scale-c-6), var(--clamp-max-c-4)) var(--hue-rose)); --rose-10: oklch(var(--scale-l-10) min(var(--scale-c-5), var(--clamp-max-c-5)) var(--hue-rose)); --rose-11: oklch(var(--scale-l-11) min(var(--scale-c-4), var(--clamp-max-c-5)) var(--hue-rose)); --rose-12: oklch(var(--scale-l-12) min(var(--scale-c-3), var(--clamp-max-c-6)) var(--hue-rose));
  }
}

/* ================================================ */
/* ==            @layer defaults                 == */
/* ================================================ */
/* Purpose: Apply structural styles and basic appearance */
/* using variables defined in the NEW @layer theme. */
@layer defaults {

  /* --- Base Body & Document Styles --- */
  body {
    font-family: var(--font-primary, sans-serif); /* Keep font variables if defined elsewhere */
    color: var(--text-default); /* UPDATED */
    background-color: var(--base); /* UPDATED */
    line-height: var(--body-line-height, 1.5);

    -webkit-font-smoothing: var(--font-smoothing-webkit, antialiased);
    -moz-osx-font-smoothing: var(--font-smoothing-moz, grayscale);
    font-synthesis: var(--font-synthesis, none);
    text-rendering: var(--text-rendering, optimizeLegibility);
    hyphens: var(--body-hyphens, auto);
    scroll-behavior: var(--scroll-behavior, smooth);
  }

  /* ::selection is handled in @theme */

  /* --- Typography Defaults --- */
  h1, h2, h3, h4, h5, h6, p, ul, ol, dl, pre, blockquote, figure, table, hr, details {
    margin-block: 0 var(--space-flow, 1em);
  }
  :is(article, section, aside, div, li, dd, dt, blockquote) > :last-child {
    margin-block-end: 0;
  }

  h1, h2, h3, h4, h5, h6 {
    font-weight: var(--font-weight-heading, 600);
    line-height: var(--line-height-heading, 1.2);
    color: var(--text-overt); /* UPDATED */
    letter-spacing: var(--letter-spacing-heading, normal);
  }
  h1 { font-size: var(--font-size-h1, 2.5rem); }
  h2 { font-size: var(--font-size-h2, 2.0rem); }
  h3 { font-size: var(--font-size-h3, 1.75rem); }
  h4 { font-size: var(--font-size-h4, 1.5rem); }
  h5 { font-size: var(--font-size-h5, 1.25rem); }
  h6 { font-size: var(--font-size-h6, 1.0rem); letter-spacing: var(--letter-spacing-h6, 0.5px); text-transform: var(--text-transform-h6, uppercase); }

  p {
    line-height: var(--body-line-height, 1.6);
    color: var(--text-default); /* UPDATED (use default body text) */
  }

  /* Lists */
  ul, ol { padding-inline-start: var(--space-list-indent, 1.5em); }
  ul { list-style: var(--list-style-unordered, disc); }
  ol { list-style: var(--list-style-ordered, decimal); }
  li { margin-block-end: var(--space-list-item, 0.5em); }
  li > ul, li > ol { margin-block-start: var(--space-list-item, 0.5em); margin-block-end: 0; }
  dt { font-weight: var(--font-weight-medium, 500); color: var(--text-overt); } /* UPDATED */
  dd { padding-inline-start: var(--space-list-indent, 1.5em); color: var(--text-subtle); } /* UPDATED */
  dd + dt { margin-block-start: var(--space-md, 1rem); }

  /* Links - Styling primarily handled in @components */
  a {
    /* Base color set in @components */
    text-decoration: var(--link-decoration, none); /* Keep structural */
  }

  /* Code blocks and inline code - Structure only, colors in @components */
  pre, code, kbd, samp {
    font-family: var(--font-mono, monospace);
    font-size: var(--font-size-code, 0.9em);
    line-height: var(--line-height-code, 1.4);
    /* color: handled in @components */
  }
  pre {
    padding: var(--space-code-block-y, 0.8em) var(--space-code-block-x, 1em);
    border-radius: var(--radius-md, 6px);
    overflow-x: auto;
    border-width: var(--border-width, 1px);
    border-style: solid;
    /* background/border color: handled in @components */
  }
  :not(pre) > code, kbd, samp {
    padding: var(--space-code-inline-y, 0.2em) var(--space-code-inline-x, 0.4em);
    border-radius: var(--radius-sm, 3px);
    border-width: var(--border-width, 1px);
    border-style: solid;
    /* background/border color: handled in @components */
  }
  kbd { letter-spacing: 0.5px; }

  /* Blockquotes - Structure only, colors in @components */
  blockquote {
    margin-inline: var(--space-blockquote-margin-inline, 1em);
    padding-inline-start: var(--space-blockquote-pad, 1em);
    border-inline-start-width: var(--border-width-blockquote, 3px);
    border-inline-start-style: solid;
    /* color/border color: handled in @components */
  }

  /* Horizontal Rule - Structure only, colors in @components */
  hr {
    border: none;
    border-block-start-width: var(--border-width, 1px);
    border-block-start-style: solid;
    /* color: handled in @components */
  }

  /* --- Form Element Defaults --- */
  input, select, textarea, fieldset {
    padding: var(--space-input-y, 0.6em) var(--space-input-x, 0.8em);
    border-width: var(--border-width, 1px);
    border-style: solid;
    border-radius: var(--radius-md, 6px);
    font-size: var(--font-size-input, 1rem);
    transition: border-color var(--transition-duration, 150ms) var(--transition-timing, ease-out),
                box-shadow var(--transition-duration, 150ms) var(--transition-timing, ease-out),
                background-color var(--transition-duration, 150ms) var(--transition-timing, ease-out);
    width: 100%;
    /* color/border/background: handled in @components */
  }
  fieldset {
    padding: var(--space-fieldset-y, 1.5em) var(--space-fieldset-x, 1.2em);
    border-color: var(--outline-default); /* UPDATED */
  }
  legend {
    padding-inline: var(--space-xs, 0.5rem);
    font-weight: var(--font-weight-medium, 500);
    color: var(--text-overt); /* UPDATED */
  }
  input[type="checkbox"], input[type="radio"], input[type="submit"], input[type="button"], input[type="reset"], button {
    width: auto;
  }

  /* Button Structure - Colors applied via utilities in @utilities */
  button, input[type="button"], input[type="submit"], input[type="reset"] {
    padding: var(--space-button-y, 0.7em) var(--space-button-x, 1.3em);
    border-radius: var(--radius-md, 6px);
    font-weight: var(--font-weight-button, 500);
    border-width: var(--border-width-button, 1px);
    border-style: solid;
    transition: background-color var(--transition-duration, 150ms) var(--transition-timing, ease-out),
                border-color var(--transition-duration, 150ms) var(--transition-timing, ease-out),
                color var(--transition-duration, 150ms) var(--transition-timing, ease-out),
                box-shadow var(--transition-duration, 150ms) var(--transition-timing, ease-out),
                transform calc(var(--transition-duration, 150ms) / 2) var(--transition-timing, ease-out);
    line-height: 1;
    box-shadow: var(--shadow-button, none); /* Keep shadows if defined elsewhere */
    /* Colors/borders applied via utility classes */
  }
  /* Hover/Active structure - styles may be overridden by utilities */
  button:hover:not([disabled]),
  input[type="button"]:hover:not([disabled]),
  input[type="submit"]:hover:not([disabled]),
  input[type="reset"]:hover:not([disabled]) {
    transform: var(--transform-button-hover, translateY(-1px));
    box-shadow: var(--shadow-button-hover, 0 2px 4px oklch(from var(--base) calc(l - 50%) 0.02 h / 0.1)); /* Example subtle shadow */
  }
  button:active:not([disabled]),
  input[type="button"]:active:not([disabled]),
  input[type="submit"]:active:not([disabled]),
  input[type="reset"]:active:not([disabled]) {
    transform: var(--transform-button-active, translateY(0px));
    box-shadow: var(--shadow-button-active, none);
  }

  /* Select element structure - Arrow appearance handled in @components */
  select {
    padding-right: var(--space-select-arrow-gap, calc(var(--space-input-x, 0.8em) * 3));
  }

  /* Checkbox/Radio structure - Colors handled in @components */
  input[type="checkbox"], input[type="radio"] {
    appearance: var(--appearance-checkbox-radio, none);
    -webkit-appearance: none; -moz-appearance: none;
    border-width: var(--border-width, 1px); border-style: solid;
    width: var(--size-checkbox-radio, 1.1em); height: var(--size-checkbox-radio, 1.1em);
    margin-inline-end: var(--space-checkbox-radio-label-gap, 0.5em);
    vertical-align: middle; position: relative; display: inline-grid; place-content: center;
    /* border-color: handled in @components */
  }
  input[type="checkbox"] { border-radius: var(--radius-sm, 3px); }
  input[type="radio"] { border-radius: 50%; }
  /* Indicator structure */
  input[type="checkbox"]::before, input[type="radio"]::before {
    content: ''; width: 60%; height: 60%; transform: scale(0);
    transition: transform 100ms ease-in-out;
    /* background/box-shadow color: handled in @components */
  }
  input[type="radio"]::before { border-radius: 50%; }
  input[type="checkbox"]:checked::before, input[type="radio"]:checked::before { transform: scale(1); }

  /* Disabled State Opacity */
  button[disabled], input[disabled], select[disabled], textarea[disabled], fieldset[disabled] {
    opacity: var(--opacity-disabled, 0.5);
  }
  fieldset[disabled] * { cursor: not-allowed; }

  /* --- Table Defaults - Structure only, colors in @components --- */
  table {
    width: 100%;
    border-width: var(--border-width, 1px);
    border-style: solid;
    border-radius: var(--radius-lg, 8px);
    overflow: hidden;
    /* border-color: handled in @components */
  }
  th, td {
    padding: var(--space-table-cell-y, 0.8em) var(--space-table-cell-x, 1em);
    text-align: left; vertical-align: top;
    border-bottom-width: var(--border-width, 1px); border-bottom-style: solid;
    /* border-bottom-color: handled in @components */
  }
  thead th {
    font-weight: var(--font-weight-heading, 600);
    border-bottom-width: calc(var(--border-width, 1px) * 2);
    vertical-align: bottom;
    /* background/color: handled in @components */
  }
  tbody tr:last-child th, tbody tr:last-child td { border-bottom: none; }

  /* --- Basic Utilities Setup --- */
  .container {
    width: min(100% - (var(--space-container-padding, 1rem) * 2), var(--width-container-max, 1100px));
    margin-inline: auto;
  }
  .display-none { display: none !important; }
  .box { padding: var(--b-p, 0); margin: var(--b-m, 0); border-width: var(--b-bw, 0); border-style: solid; border-color: var(--b-bc, transparent); border-radius: var(--b-r, 0); background-color: var(--b-bg, transparent); color: var(--b-fg, inherit); }
  .box[style*="--b-px"] { padding-inline: var(--b-px); }
  .box[style*="--b-py"] { padding-block: var(--b-py); }
  .box[style*="--b-mx"] { margin-inline: var(--b-mx); }
  .box[style*="--b-my"] { margin-block: var(--b-my); }
  .cq-container, .cq { container-type: var(--cq-type, inline-size); container-name: var(--cq-name, default); }

  /* --- Accessibility Enhancements --- */
  :focus-visible { /* Structure only, color handled in @components */
    outline-style: solid;
    outline-width: var(--focus-ring-width, 2px);
    outline-offset: var(--focus-ring-offset, 2px);
    box-shadow: none;
  }
  :target { scroll-margin-block-start: var(--space-target-margin, 5ex); }

  /* --- Reduced Motion Preferences --- */
  @media (prefers-reduced-motion: reduce) {
    html { scroll-behavior: auto !important; }
    *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; transition-delay: 0ms !important; }
  }

  /* --- View Transition Structure --- */
  ::view-transition-old(root), ::view-transition-new(root) { animation-duration: var(--transition-duration-page, 300ms); animation-timing-function: var(--transition-timing-page, ease-in-out); }
  ::view-transition-old(root) { animation-name: var(--view-transition-old, fade-out); }
  ::view-transition-new(root) { animation-name: var(--view-transition-new, fade-in); z-index: 1; }
  @keyframes fade-in { from { opacity: 0; } }
  @keyframes fade-out { to { opacity: 0; } }

} /* End of @layer defaults */


/* ================================================ */
/* ==            @layer components               == */
/* ================================================ */
@layer components {
  /* Apply base styles to common elements using NEW theme variables */
  body {
    background-color: var(--base);
    color: var(--text-default);
  }

  a {
    color: var(--text-link);
    text-decoration: var(--link-decoration);
    text-decoration-thickness: var(--link-underline-thickness);
    text-underline-offset: var(--link-underline-offset);
    transition: color var(--link-transition-duration) var(--link-transition-timing),
                text-decoration-color var(--link-transition-duration) var(--link-transition-timing);
  }
  a:hover, a:focus-visible {
    color: var(--text-link-hover);
    text-decoration: var(--link-decoration-hover);
    text-decoration-thickness: var(--link-underline-thickness);
    text-underline-offset: var(--link-underline-offset);
  }

  /* Basic Button Styling (Structure in defaults, base style here) */
  .button {
    display: inline-flex; align-items: center; justify-content: center;
    padding: 0.6em 1.2em; border-radius: var(--radius-md);
    border: var(--border-width) solid var(--outline-default); /* Default outline */
    background-color: var(--surface-default); /* Default surface */
    color: var(--text-default); /* Use default text */
    font-weight: 500; text-align: center; cursor: pointer;
    transition: background-color 150ms ease-out, border-color 150ms ease-out, color 150ms ease-out, box-shadow 150ms ease-out;
    user-select: none; line-height: 1.2;
  }
   .button:hover:not([disabled]) {
     border-color: var(--outline-overt);
     background-color: var(--highlight-bg-subtle); /* Subtle highlight on hover */
   }
  .button:focus-visible {
     outline: var(--border-width-thick) solid var(--outline-focus);
     outline-offset: 2px;
     border-color: transparent; /* Hide border when outline is visible */
  }
  .button[disabled] {
    opacity: 0.5; cursor: not-allowed;
    background-color: var(--highlight-bg-muted);
    border-color: var(--outline-muted);
  }

  /* Input field styling */
  .input-field {
    display: block; width: 100%; padding: 0.6em 0.8em;
    border-radius: var(--radius-md);
    border: var(--border-width) solid var(--outline-default);
    background-color: var(--surface-subtle);
    color: var(--text-default);
    transition: border-color 150ms ease-out, box-shadow 150ms ease-out;
  }
  .input-field::placeholder { color: var(--text-muted); opacity: 1; }
  .input-field:hover:not([disabled]) { border-color: var(--outline-overt); }
  .input-field:focus, .input-field:focus-visible {
    outline: none; border-color: var(--outline-focus);
    box-shadow: 0 0 0 var(--border-width-thick) oklch(from var(--outline-focus) l c h / 0.3);
  }
  .input-field[disabled] { opacity: 0.6; background-color: var(--surface-muted); border-color: var(--outline-subtle); cursor: not-allowed; }
  .input-field:invalid { border-color: var(--error); box-shadow: 0 0 0 var(--border-width-thick) oklch(from var(--error) l c h / 0.3); }

  /* Custom Select Arrow */
  select.input-field {
    background-image: linear-gradient(45deg, transparent 50%, var(--text-subtle) 50%), linear-gradient(135deg, var(--text-subtle) 50%, transparent 50%);
    background-position: right 0.8em top 55%, right calc(0.8em + 5px) top 55%;
    background-size: 5px 5px, 5px 5px;
    background-repeat: no-repeat;
  }
  select.input-field:-moz-focusring { color: transparent; text-shadow: 0 0 0 var(--text-default); }

  /* Checkbox/Radio Theming */
  input[type="checkbox"], input[type="radio"] {
    border-color: var(--outline-default);
    background-color: var(--surface-subtle);
  }
  input[type="checkbox"]:hover:not(:checked):not([disabled]),
  input[type="radio"]:hover:not(:checked):not([disabled]) {
    border-color: var(--outline-overt);
    background-color: var(--highlight-bg-subtle);
  }
  input[type="checkbox"]:checked, input[type="radio"]:checked {
    background-color: var(--accent);
    border-color: var(--accent);
  }
  input[type="checkbox"]:checked:hover:not([disabled]),
  input[type="radio"]:checked:hover:not([disabled]) {
    background-color: var(--accent-overt);
    border-color: var(--accent-overt);
  }
  input[type="checkbox"]::before, input[type="radio"]::before {
    box-shadow: inset 1em 1em var(--text-on-accent); /* Use contrast text */
  }
  input[type="checkbox"]:checked::before, input[type="radio"]:checked::before {
     /* Style for the checkmark/dot */
  }

  /* Basic card structure */
  .card {
     --bg: var(--surface-default); /* Set local --bg */
     background-color: var(--bg);
     color: var(--auto-contrast-text); /* Use auto-contrast */
     border-radius: var(--radius-lg);
     padding: 1.5rem;
     border: var(--border-width) solid var(--outline-subtle);
     box-shadow: 0 2px 5px oklch(from var(--base) calc(l - 50%) 0.02 h / 0.1);
  }

  /* Code block styling */
  pre {
    background-color: var(--code-block-bg);
    border-color: var(--code-block-border);
    color: var(--text-default); /* Or define --text-code */
  }
  :not(pre) > code, kbd, samp {
    background-color: var(--code-inline-bg);
    border-color: var(--code-inline-border);
    color: var(--text-default); /* Or define --text-code */
  }
  /* Blockquote styling */
  blockquote {
    border-inline-start-color: var(--blockquote-border);
    color: var(--text-subtle);
  }
  /* Horizontal Rule styling */
  hr { border-block-start-color: var(--hr-color); }
  /* Table styling */
  table { border-color: var(--table-border); }
  th, td { border-bottom-color: var(--table-border); }
  thead th {
    background-color: var(--table-header-bg);
    color: var(--text-overt); /* Use overt text for header */
   }
  tbody tr:hover {
    --bg: var(--table-row-hover-bg); /* Set local --bg */
    background-color: var(--bg);
    color: var(--auto-contrast-text); /* Auto contrast on hover */
  }
  /* Enhanced Form Focus States */
  input:focus-visible, select:focus-visible, textarea:focus-visible {
    outline: var(--input-focus-ring-width) var(--focus-ring-style) var(--focus-ring-color);
    outline-offset: var(--input-focus-ring-offset);
    background-color: var(--input-focus-bg);
    border-color: var(--outline-focus);
  }

  button:focus-visible, 
  a:focus-visible,
  [tabindex]:focus-visible {
    outline: var(--focus-ring-width) var(--focus-ring-style) var(--focus-ring-color);
    outline-offset: var(--focus-ring-offset);
    box-shadow: none;
  }
  
  /* Focus Ring Color */
  :focus-visible { outline-color: var(--outline-focus); }

  /* Contrast Pair Component */
  .contrast-pair {
    --bg: var(--pair-color, var(--accent));
    background-color: var(--bg);
    color: var(--auto-contrast-text);
    padding: 1rem; border-radius: var(--radius-md);
  }
} /* End of @layer components */


/* ================================================ */
/* ==             @layer utilities               == */
/* ================================================ */
@layer utilities {
  /* --- Background Color Utilities (Theme Roles) --- */
  .bg-base { background-color: var(--base); } .bg-bedrock { background-color: var(--bedrock); }
  .bg-surface-muted { background-color: var(--surface-muted); } .bg-surface-subtle { background-color: var(--surface-subtle); }
  .bg-surface-default { background-color: var(--surface-default); } .bg-surface-overt { background-color: var(--surface-overt); }
  .bg-accent { background-color: var(--accent); } .bg-accent-muted { background-color: var(--accent-muted); } .bg-accent-subtle { background-color: var(--accent-subtle); } .bg-accent-overt { background-color: var(--accent-overt); }
  .bg-secondary { background-color: var(--secondary); } .bg-secondary-muted { background-color: var(--secondary-muted); } .bg-secondary-subtle { background-color: var(--secondary-subtle); } .bg-secondary-overt { background-color: var(--secondary-overt); }
  .bg-tertiary { background-color: var(--tertiary); } .bg-tertiary-muted { background-color: var(--tertiary-muted); } .bg-tertiary-subtle { background-color: var(--tertiary-subtle); } .bg-tertiary-overt { background-color: var(--tertiary-overt); }
  .bg-highlight-muted { background-color: var(--highlight-bg-muted); } .bg-highlight-subtle { background-color: var(--highlight-bg-subtle); } .bg-highlight-overt { background-color: var(--highlight-bg-overt); }
  .bg-text-highlight { background-color: var(--text-highlight-bg); }
  .bg-success { background-color: var(--success); } .bg-warning { background-color: var(--warning); } .bg-error { background-color: var(--error); } .bg-info { background-color: var(--info); }
  .bg-surface-success { background-color: var(--surface-success); } .bg-surface-warning { background-color: var(--surface-warning); } .bg-surface-error { background-color: var(--surface-error); } .bg-surface-info { background-color: var(--surface-info); }
  .bg-transparent { background-color: transparent; }

  /* --- Background Color Utilities (Palette Scales) --- */
  .bg-gray-0 { background-color: var(--gray-0); } /* ... */ .bg-gray-12 { background-color: var(--gray-12); }
  .bg-neutral-0 { background-color: var(--neutral-0); } /* ... */ .bg-neutral-12 { background-color: var(--neutral-12); }
  .bg-accent-palette-0 { background-color: var(--accent-palette-0); } /* ... */ .bg-accent-palette-12 { background-color: var(--accent-palette-12); }
  .bg-red-0 { background-color: var(--red-0); } /* ... */ .bg-red-12 { background-color: var(--red-12); }
  .bg-orange-0 { background-color: var(--orange-0); } /* ... */ .bg-orange-12 { background-color: var(--orange-12); }
  .bg-amber-0 { background-color: var(--amber-0); } /* ... */ .bg-amber-12 { background-color: var(--amber-12); }
  .bg-yellow-0 { background-color: var(--yellow-0); } /* ... */ .bg-yellow-12 { background-color: var(--yellow-12); }
  .bg-lime-0 { background-color: var(--lime-0); } /* ... */ .bg-lime-12 { background-color: var(--lime-12); }
  .bg-green-0 { background-color: var(--green-0); } /* ... */ .bg-green-12 { background-color: var(--green-12); }
  .bg-emerald-0 { background-color: var(--emerald-0); } /* ... */ .bg-emerald-12 { background-color: var(--emerald-12); }
  .bg-teal-0 { background-color: var(--teal-0); } /* ... */ .bg-teal-12 { background-color: var(--teal-12); }
  .bg-cyan-0 { background-color: var(--cyan-0); } /* ... */ .bg-cyan-12 { background-color: var(--cyan-12); }
  .bg-sky-0 { background-color: var(--sky-0); } /* ... */ .bg-sky-12 { background-color: var(--sky-12); }
  .bg-blue-0 { background-color: var(--blue-0); } /* ... */ .bg-blue-12 { background-color: var(--blue-12); }
  .bg-indigo-0 { background-color: var(--indigo-0); } /* ... */ .bg-indigo-12 { background-color: var(--indigo-12); }
  .bg-violet-0 { background-color: var(--violet-0); } /* ... */ .bg-violet-12 { background-color: var(--violet-12); }
  .bg-purple-0 { background-color: var(--purple-0); } /* ... */ .bg-purple-12 { background-color: var(--purple-12); }
  .bg-fuchsia-0 { background-color: var(--fuchsia-0); } /* ... */ .bg-fuchsia-12 { background-color: var(--fuchsia-12); }
  .bg-pink-0 { background-color: var(--pink-0); } /* ... */ .bg-pink-12 { background-color: var(--pink-12); }
  .bg-rose-0 { background-color: var(--rose-0); } /* ... */ .bg-rose-12 { background-color: var(--rose-12); }
  /* Add feedback palette backgrounds */
  .bg-success-palette-0 { background-color: var(--success-palette-0); } /* ... */ .bg-success-palette-12 { background-color: var(--success-palette-12); }
  .bg-warning-palette-0 { background-color: var(--warning-palette-0); } /* ... */ .bg-warning-palette-12 { background-color: var(--warning-palette-12); }
  .bg-error-palette-0 { background-color: var(--error-palette-0); } /* ... */ .bg-error-palette-12 { background-color: var(--error-palette-12); }
  .bg-info-palette-0 { background-color: var(--info-palette-0); } /* ... */ .bg-info-palette-12 { background-color: var(--info-palette-12); }


  /* --- Text Color Utilities (Theme Roles) --- */
  .text-muted { color: var(--text-muted); } .text-subtle { color: var(--text-subtle); } .text-default { color: var(--text-default); } .text-overt { color: var(--text-overt); }
  .text-link { color: var(--text-link); } .text-highlight-subtle { color: var(--text-highlight-subtle); } .text-highlight-overt { color: var(--text-highlight-overt); }
  .text-success { color: var(--text-success); } .text-warning { color: var(--text-warning); } .text-error { color: var(--text-error); } .text-info { color: var(--text-info); }
  /* Contrast Text Utilities */
  .text-contrast-on-base { --bg: var(--base); color: var(--auto-contrast-text); }
  .text-contrast-on-bedrock { --bg: var(--bedrock); color: var(--auto-contrast-text); }
  .text-contrast-on-surface-muted { --bg: var(--surface-muted); color: var(--auto-contrast-text); }
  .text-contrast-on-surface-subtle { --bg: var(--surface-subtle); color: var(--auto-contrast-text); }
  .text-contrast-on-surface-default { --bg: var(--surface-default); color: var(--auto-contrast-text); }
  .text-contrast-on-surface-overt { --bg: var(--surface-overt); color: var(--auto-contrast-text); }
  .text-contrast-on-accent { --bg: var(--accent); color: var(--auto-contrast-text); }
  .text-contrast-on-accent-muted { --bg: var(--accent-muted); color: var(--auto-contrast-text); }
  .text-contrast-on-accent-subtle { --bg: var(--accent-subtle); color: var(--auto-contrast-text); }
  .text-contrast-on-accent-overt { --bg: var(--accent-overt); color: var(--auto-contrast-text); }
  .text-contrast-on-secondary { --bg: var(--secondary); color: var(--auto-contrast-text); }
  .text-contrast-on-tertiary { --bg: var(--tertiary); color: var(--auto-contrast-text); }
  .text-contrast-on-highlight-muted { --bg: var(--highlight-bg-muted); color: var(--auto-contrast-text); }
  .text-contrast-on-highlight-subtle { --bg: var(--highlight-bg-subtle); color: var(--auto-contrast-text); }
  .text-contrast-on-highlight-overt { --bg: var(--highlight-bg-overt); color: var(--auto-contrast-text); }
  .text-contrast-on-success { --bg: var(--success); color: var(--auto-contrast-text); }
  .text-contrast-on-warning { --bg: var(--warning); color: var(--auto-contrast-text); }
  .text-contrast-on-error { --bg: var(--error); color: var(--auto-contrast-text); }
  .text-contrast-on-info { --bg: var(--info); color: var(--auto-contrast-text); }
  .text-inherit { color: inherit; }

  /* --- Text Color Utilities (Palette Scales) --- */
  .text-gray-0 { color: var(--gray-0); } .text-gray-1 { color: var(--gray-1); } .text-gray-2 { color: var(--gray-2); } .text-gray-3 { color: var(--gray-3); } .text-gray-4 { color: var(--gray-4); } .text-gray-5 { color: var(--gray-5); } .text-gray-6 { color: var(--gray-6); } .text-gray-7 { color: var(--gray-7); } .text-gray-8 { color: var(--gray-8); } .text-gray-9 { color: var(--gray-9); } .text-gray-10 { color: var(--gray-10); } .text-gray-11 { color: var(--gray-11); } .text-gray-12 { color: var(--gray-12); }
  
  .text-neutral-0 { color: var(--neutral-0); } .text-neutral-1 { color: var(--neutral-1); } .text-neutral-2 { color: var(--neutral-2); } .text-neutral-3 { color: var(--neutral-3); } .text-neutral-4 { color: var(--neutral-4); } .text-neutral-5 { color: var(--neutral-5); } .text-neutral-6 { color: var(--neutral-6); } .text-neutral-7 { color: var(--neutral-7); } .text-neutral-8 { color: var(--neutral-8); } .text-neutral-9 { color: var(--neutral-9); } .text-neutral-10 { color: var(--neutral-10); } .text-neutral-11 { color: var(--neutral-11); } .text-neutral-12 { color: var(--neutral-12); }
  
  .text-accent-palette-0 { color: var(--accent-palette-0); } .text-accent-palette-1 { color: var(--accent-palette-1); } .text-accent-palette-2 { color: var(--accent-palette-2); } .text-accent-palette-3 { color: var(--accent-palette-3); } .text-accent-palette-4 { color: var(--accent-palette-4); } .text-accent-palette-5 { color: var(--accent-palette-5); } .text-accent-palette-6 { color: var(--accent-palette-6); } .text-accent-palette-7 { color: var(--accent-palette-7); } .text-accent-palette-8 { color: var(--accent-palette-8); } .text-accent-palette-9 { color: var(--accent-palette-9); } .text-accent-palette-10 { color: var(--accent-palette-10); } .text-accent-palette-11 { color: var(--accent-palette-11); } .text-accent-palette-12 { color: var(--accent-palette-12); }
  
  .text-red-0 { color: var(--red-0); } .text-red-1 { color: var(--red-1); } .text-red-2 { color: var(--red-2); } .text-red-3 { color: var(--red-3); } .text-red-4 { color: var(--red-4); } .text-red-5 { color: var(--red-5); } .text-red-6 { color: var(--red-6); } .text-red-7 { color: var(--red-7); } .text-red-8 { color: var(--red-8); } .text-red-9 { color: var(--red-9); } .text-red-10 { color: var(--red-10); } .text-red-11 { color: var(--red-11); } .text-red-12 { color: var(--red-12); }
  
  .text-slate-0 { color: var(--slate-0); } .text-slate-1 { color: var(--slate-1); } .text-slate-2 { color: var(--slate-2); } .text-slate-3 { color: var(--slate-3); } .text-slate-4 { color: var(--slate-4); } .text-slate-5 { color: var(--slate-5); } .text-slate-6 { color: var(--slate-6); } .text-slate-7 { color: var(--slate-7); } .text-slate-8 { color: var(--slate-8); } .text-slate-9 { color: var(--slate-9); } .text-slate-10 { color: var(--slate-10); } .text-slate-11 { color: var(--slate-11); } .text-slate-12 { color: var(--slate-12); }
  
  .text-orange-0 { color: var(--orange-0); } .text-orange-1 { color: var(--orange-1); } .text-orange-2 { color: var(--orange-2); } .text-orange-3 { color: var(--orange-3); } .text-orange-4 { color: var(--orange-4); } .text-orange-5 { color: var(--orange-5); } .text-orange-6 { color: var(--orange-6); } .text-orange-7 { color: var(--orange-7); } .text-orange-8 { color: var(--orange-8); } .text-orange-9 { color: var(--orange-9); } .text-orange-10 { color: var(--orange-10); } .text-orange-11 { color: var(--orange-11); } .text-orange-12 { color: var(--orange-12); }
  
  .text-amber-0 { color: var(--amber-0); } .text-amber-1 { color: var(--amber-1); } .text-amber-2 { color: var(--amber-2); } .text-amber-3 { color: var(--amber-3); } .text-amber-4 { color: var(--amber-4); } .text-amber-5 { color: var(--amber-5); } .text-amber-6 { color: var(--amber-6); } .text-amber-7 { color: var(--amber-7); } .text-amber-8 { color: var(--amber-8); } .text-amber-9 { color: var(--amber-9); } .text-amber-10 { color: var(--amber-10); } .text-amber-11 { color: var(--amber-11); } .text-amber-12 { color: var(--amber-12); }
  
  .text-yellow-0 { color: var(--yellow-0); } .text-yellow-1 { color: var(--yellow-1); } .text-yellow-2 { color: var(--yellow-2); } .text-yellow-3 { color: var(--yellow-3); } .text-yellow-4 { color: var(--yellow-4); } .text-yellow-5 { color: var(--yellow-5); } .text-yellow-6 { color: var(--yellow-6); } .text-yellow-7 { color: var(--yellow-7); } .text-yellow-8 { color: var(--yellow-8); } .text-yellow-9 { color: var(--yellow-9); } .text-yellow-10 { color: var(--yellow-10); } .text-yellow-11 { color: var(--yellow-11); } .text-yellow-12 { color: var(--yellow-12); }
  
  .text-lime-0 { color: var(--lime-0); } .text-lime-1 { color: var(--lime-1); } .text-lime-2 { color: var(--lime-2); } .text-lime-3 { color: var(--lime-3); } .text-lime-4 { color: var(--lime-4); } .text-lime-5 { color: var(--lime-5); } .text-lime-6 { color: var(--lime-6); } .text-lime-7 { color: var(--lime-7); } .text-lime-8 { color: var(--lime-8); } .text-lime-9 { color: var(--lime-9); } .text-lime-10 { color: var(--lime-10); } .text-lime-11 { color: var(--lime-11); } .text-lime-12 { color: var(--lime-12); }
  
  .text-green-0 { color: var(--green-0); } .text-green-1 { color: var(--green-1); } .text-green-2 { color: var(--green-2); } .text-green-3 { color: var(--green-3); } .text-green-4 { color: var(--green-4); } .text-green-5 { color: var(--green-5); } .text-green-6 { color: var(--green-6); } .text-green-7 { color: var(--green-7); } .text-green-8 { color: var(--green-8); } .text-green-9 { color: var(--green-9); } .text-green-10 { color: var(--green-10); } .text-green-11 { color: var(--green-11); } .text-green-12 { color: var(--green-12); }
  
  .text-emerald-0 { color: var(--emerald-0); } .text-emerald-1 { color: var(--emerald-1); } .text-emerald-2 { color: var(--emerald-2); } .text-emerald-3 { color: var(--emerald-3); } .text-emerald-4 { color: var(--emerald-4); } .text-emerald-5 { color: var(--emerald-5); } .text-emerald-6 { color: var(--emerald-6); } .text-emerald-7 { color: var(--emerald-7); } .text-emerald-8 { color: var(--emerald-8); } .text-emerald-9 { color: var(--emerald-9); } .text-emerald-10 { color: var(--emerald-10); } .text-emerald-11 { color: var(--emerald-11); } .text-emerald-12 { color: var(--emerald-12); }
  
  .text-teal-0 { color: var(--teal-0); } .text-teal-1 { color: var(--teal-1); } .text-teal-2 { color: var(--teal-2); } .text-teal-3 { color: var(--teal-3); } .text-teal-4 { color: var(--teal-4); } .text-teal-5 { color: var(--teal-5); } .text-teal-6 { color: var(--teal-6); } .text-teal-7 { color: var(--teal-7); } .text-teal-8 { color: var(--teal-8); } .text-teal-9 { color: var(--teal-9); } .text-teal-10 { color: var(--teal-10); } .text-teal-11 { color: var(--teal-11); } .text-teal-12 { color: var(--teal-12); }
  
  .text-cyan-0 { color: var(--cyan-0); } .text-cyan-1 { color: var(--cyan-1); } .text-cyan-2 { color: var(--cyan-2); } .text-cyan-3 { color: var(--cyan-3); } .text-cyan-4 { color: var(--cyan-4); } .text-cyan-5 { color: var(--cyan-5); } .text-cyan-6 { color: var(--cyan-6); } .text-cyan-7 { color: var(--cyan-7); } .text-cyan-8 { color: var(--cyan-8); } .text-cyan-9 { color: var(--cyan-9); } .text-cyan-10 { color: var(--cyan-10); } .text-cyan-11 { color: var(--cyan-11); } .text-cyan-12 { color: var(--cyan-12); }
  
  .text-sky-0 { color: var(--sky-0); } .text-sky-1 { color: var(--sky-1); } .text-sky-2 { color: var(--sky-2); } .text-sky-3 { color: var(--sky-3); } .text-sky-4 { color: var(--sky-4); } .text-sky-5 { color: var(--sky-5); } .text-sky-6 { color: var(--sky-6); } .text-sky-7 { color: var(--sky-7); } .text-sky-8 { color: var(--sky-8); } .text-sky-9 { color: var(--sky-9); } .text-sky-10 { color: var(--sky-10); } .text-sky-11 { color: var(--sky-11); } .text-sky-12 { color: var(--sky-12); }
  
  .text-blue-0 { color: var(--blue-0); } .text-blue-1 { color: var(--blue-1); } .text-blue-2 { color: var(--blue-2); } .text-blue-3 { color: var(--blue-3); } .text-blue-4 { color: var(--blue-4); } .text-blue-5 { color: var(--blue-5); } .text-blue-6 { color: var(--blue-6); } .text-blue-7 { color: var(--blue-7); } .text-blue-8 { color: var(--blue-8); } .text-blue-9 { color: var(--blue-9); } .text-blue-10 { color: var(--blue-10); } .text-blue-11 { color: var(--blue-11); } .text-blue-12 { color: var(--blue-12); }
  
  .text-indigo-0 { color: var(--indigo-0); } .text-indigo-1 { color: var(--indigo-1); } .text-indigo-2 { color: var(--indigo-2); } .text-indigo-3 { color: var(--indigo-3); } .text-indigo-4 { color: var(--indigo-4); } .text-indigo-5 { color: var(--indigo-5); } .text-indigo-6 { color: var(--indigo-6); } .text-indigo-7 { color: var(--indigo-7); } .text-indigo-8 { color: var(--indigo-8); } .text-indigo-9 { color: var(--indigo-9); } .text-indigo-10 { color: var(--indigo-10); } .text-indigo-11 { color: var(--indigo-11); } .text-indigo-12 { color: var(--indigo-12); }
  
  .text-violet-0 { color: var(--violet-0); } .text-violet-1 { color: var(--violet-1); } .text-violet-2 { color: var(--violet-2); } .text-violet-3 { color: var(--violet-3); } .text-violet-4 { color: var(--violet-4); } .text-violet-5 { color: var(--violet-5); } .text-violet-6 { color: var(--violet-6); } .text-violet-7 { color: var(--violet-7); } .text-violet-8 { color: var(--violet-8); } .text-violet-9 { color: var(--violet-9); } .text-violet-10 { color: var(--violet-10); } .text-violet-11 { color: var(--violet-11); } .text-violet-12 { color: var(--violet-12); }
  
  .text-purple-0 { color: var(--purple-0); } .text-purple-1 { color: var(--purple-1); } .text-purple-2 { color: var(--purple-2); } .text-purple-3 { color: var(--purple-3); } .text-purple-4 { color: var(--purple-4); } .text-purple-5 { color: var(--purple-5); } .text-purple-6 { color: var(--purple-6); } .text-purple-7 { color: var(--purple-7); } .text-purple-8 { color: var(--purple-8); } .text-purple-9 { color: var(--purple-9); } .text-purple-10 { color: var(--purple-10); } .text-purple-11 { color: var(--purple-11); } .text-purple-12 { color: var(--purple-12); }
  
  .text-fuchsia-0 { color: var(--fuchsia-0); } .text-fuchsia-1 { color: var(--fuchsia-1); } .text-fuchsia-2 { color: var(--fuchsia-2); } .text-fuchsia-3 { color: var(--fuchsia-3); } .text-fuchsia-4 { color: var(--fuchsia-4); } .text-fuchsia-5 { color: var(--fuchsia-5); } .text-fuchsia-6 { color: var(--fuchsia-6); } .text-fuchsia-7 { color: var(--fuchsia-7); } .text-fuchsia-8 { color: var(--fuchsia-8); } .text-fuchsia-9 { color: var(--fuchsia-9); } .text-fuchsia-10 { color: var(--fuchsia-10); } .text-fuchsia-11 { color: var(--fuchsia-11); } .text-fuchsia-12 { color: var(--fuchsia-12); }
  
  .text-pink-0 { color: var(--pink-0); } .text-pink-1 { color: var(--pink-1); } .text-pink-2 { color: var(--pink-2); } .text-pink-3 { color: var(--pink-3); } .text-pink-4 { color: var(--pink-4); } .text-pink-5 { color: var(--pink-5); } .text-pink-6 { color: var(--pink-6); } .text-pink-7 { color: var(--pink-7); } .text-pink-8 { color: var(--pink-8); } .text-pink-9 { color: var(--pink-9); } .text-pink-10 { color: var(--pink-10); } .text-pink-11 { color: var(--pink-11); } .text-pink-12 { color: var(--pink-12); }
  
  .text-rose-0 { color: var(--rose-0); } .text-rose-1 { color: var(--rose-1); } .text-rose-2 { color: var(--rose-2); } .text-rose-3 { color: var(--rose-3); } .text-rose-4 { color: var(--rose-4); } .text-rose-5 { color: var(--rose-5); } .text-rose-6 { color: var(--rose-6); } .text-rose-7 { color: var(--rose-7); } .text-rose-8 { color: var(--rose-8); } .text-rose-9 { color: var(--rose-9); } .text-rose-10 { color: var(--rose-10); } .text-rose-11 { color: var(--rose-11); } .text-rose-12 { color: var(--rose-12); }
  
  .text-success-palette-0 { color: var(--success-palette-0); } .text-success-palette-1 { color: var(--success-palette-1); } .text-success-palette-2 { color: var(--success-palette-2); } .text-success-palette-3 { color: var(--success-palette-3); } .text-success-palette-4 { color: var(--success-palette-4); } .text-success-palette-5 { color: var(--success-palette-5); } .text-success-palette-6 { color: var(--success-palette-6); } .text-success-palette-7 { color: var(--success-palette-7); } .text-success-palette-8 { color: var(--success-palette-8); } .text-success-palette-9 { color: var(--success-palette-9); } .text-success-palette-10 { color: var(--success-palette-10); } .text-success-palette-11 { color: var(--success-palette-11); } .text-success-palette-12 { color: var(--success-palette-12); }
  
  .text-warning-palette-0 { color: var(--warning-palette-0); } .text-warning-palette-1 { color: var(--warning-palette-1); } .text-warning-palette-2 { color: var(--warning-palette-2); } .text-warning-palette-3 { color: var(--warning-palette-3); } .text-warning-palette-4 { color: var(--warning-palette-4); } .text-warning-palette-5 { color: var(--warning-palette-5); } .text-warning-palette-6 { color: var(--warning-palette-6); } .text-warning-palette-7 { color: var(--warning-palette-7); } .text-warning-palette-8 { color: var(--warning-palette-8); } .text-warning-palette-9 { color: var(--warning-palette-9); } .text-warning-palette-10 { color: var(--warning-palette-10); } .text-warning-palette-11 { color: var(--warning-palette-11); } .text-warning-palette-12 { color: var(--warning-palette-12); }
  
  .text-error-palette-0 { color: var(--error-palette-0); } .text-error-palette-1 { color: var(--error-palette-1); } .text-error-palette-2 { color: var(--error-palette-2); } .text-error-palette-3 { color: var(--error-palette-3); } .text-error-palette-4 { color: var(--error-palette-4); } .text-error-palette-5 { color: var(--error-palette-5); } .text-error-palette-6 { color: var(--error-palette-6); } .text-error-palette-7 { color: var(--error-palette-7); } .text-error-palette-8 { color: var(--error-palette-8); } .text-error-palette-9 { color: var(--error-palette-9); } .text-error-palette-10 { color: var(--error-palette-10); } .text-error-palette-11 { color: var(--error-palette-11); } .text-error-palette-12 { color: var(--error-palette-12); }
  
  .text-info-palette-0 { color: var(--info-palette-0); } .text-info-palette-1 { color: var(--info-palette-1); } .text-info-palette-2 { color: var(--info-palette-2); } .text-info-palette-3 { color: var(--info-palette-3); } .text-info-palette-4 { color: var(--info-palette-4); } .text-info-palette-5 { color: var(--info-palette-5); } .text-info-palette-6 { color: var(--info-palette-6); } .text-info-palette-7 { color: var(--info-palette-7); } .text-info-palette-8 { color: var(--info-palette-8); } .text-info-palette-9 { color: var(--info-palette-9); } .text-info-palette-10 { color: var(--info-palette-10); } .text-info-palette-11 { color: var(--info-palette-11); } .text-info-palette-12 { color: var(--info-palette-12); }


  /* --- Border Color Utilities (Theme Roles) --- */
  .border-outline-muted { border-color: var(--outline-muted); } .border-outline-subtle { border-color: var(--outline-subtle); } .border-outline-default { border-color: var(--outline-default); } .border-outline-overt { border-color: var(--outline-overt); }
  .border-accent { border-color: var(--accent); } .border-accent-muted { border-color: var(--accent-muted); } .border-accent-subtle { border-color: var(--accent-subtle); } .border-accent-overt { border-color: var(--accent-overt); }
  .border-secondary { border-color: var(--secondary); } .border-tertiary { border-color: var(--tertiary); }
  .border-highlight-subtle { border-color: var(--outline-highlight-subtle); } .border-highlight-overt { border-color: var(--outline-highlight-overt); }
  .border-success { border-color: var(--outline-success); } .border-warning { border-color: var(--outline-warning); } .border-error { border-color: var(--outline-error); } .border-info { border-color: var(--outline-info); }
  .border-transparent { border-color: transparent; }

  /* --- Border Color Utilities (Palette Scales) --- */
  .border-gray-0 { border-color: var(--gray-0); } .border-gray-1 { border-color: var(--gray-1); } .border-gray-2 { border-color: var(--gray-2); } .border-gray-3 { border-color: var(--gray-3); } .border-gray-4 { border-color: var(--gray-4); } .border-gray-5 { border-color: var(--gray-5); } .border-gray-6 { border-color: var(--gray-6); } .border-gray-7 { border-color: var(--gray-7); } .border-gray-8 { border-color: var(--gray-8); } .border-gray-9 { border-color: var(--gray-9); } .border-gray-10 { border-color: var(--gray-10); } .border-gray-11 { border-color: var(--gray-11); } .border-gray-12 { border-color: var(--gray-12); }
  
  .border-neutral-0 { border-color: var(--neutral-0); } .border-neutral-1 { border-color: var(--neutral-1); } .border-neutral-2 { border-color: var(--neutral-2); } .border-neutral-3 { border-color: var(--neutral-3); } .border-neutral-4 { border-color: var(--neutral-4); } .border-neutral-5 { border-color: var(--neutral-5); } .border-neutral-6 { border-color: var(--neutral-6); } .border-neutral-7 { border-color: var(--neutral-7); } .border-neutral-8 { border-color: var(--neutral-8); } .border-neutral-9 { border-color: var(--neutral-9); } .border-neutral-10 { border-color: var(--neutral-10); } .border-neutral-11 { border-color: var(--neutral-11); } .border-neutral-12 { border-color: var(--neutral-12); }
  
  .border-accent-palette-0 { border-color: var(--accent-palette-0); } .border-accent-palette-1 { border-color: var(--accent-palette-1); } .border-accent-palette-2 { border-color: var(--accent-palette-2); } .border-accent-palette-3 { border-color: var(--accent-palette-3); } .border-accent-palette-4 { border-color: var(--accent-palette-4); } .border-accent-palette-5 { border-color: var(--accent-palette-5); } .border-accent-palette-6 { border-color: var(--accent-palette-6); } .border-accent-palette-7 { border-color: var(--accent-palette-7); } .border-accent-palette-8 { border-color: var(--accent-palette-8); } .border-accent-palette-9 { border-color: var(--accent-palette-9); } .border-accent-palette-10 { border-color: var(--accent-palette-10); } .border-accent-palette-11 { border-color: var(--accent-palette-11); } .border-accent-palette-12 { border-color: var(--accent-palette-12); }
  
  .border-red-0 { border-color: var(--red-0); } .border-red-1 { border-color: var(--red-1); } .border-red-2 { border-color: var(--red-2); } .border-red-3 { border-color: var(--red-3); } .border-red-4 { border-color: var(--red-4); } .border-red-5 { border-color: var(--red-5); } .border-red-6 { border-color: var(--red-6); } .border-red-7 { border-color: var(--red-7); } .border-red-8 { border-color: var(--red-8); } .border-red-9 { border-color: var(--red-9); } .border-red-10 { border-color: var(--red-10); } .border-red-11 { border-color: var(--red-11); } .border-red-12 { border-color: var(--red-12); }
  
  .border-slate-0 { border-color: var(--slate-0); } .border-slate-1 { border-color: var(--slate-1); } .border-slate-2 { border-color: var(--slate-2); } .border-slate-3 { border-color: var(--slate-3); } .border-slate-4 { border-color: var(--slate-4); } .border-slate-5 { border-color: var(--slate-5); } .border-slate-6 { border-color: var(--slate-6); } .border-slate-7 { border-color: var(--slate-7); } .border-slate-8 { border-color: var(--slate-8); } .border-slate-9 { border-color: var(--slate-9); } .border-slate-10 { border-color: var(--slate-10); } .border-slate-11 { border-color: var(--slate-11); } .border-slate-12 { border-color: var(--slate-12); }
  
  .border-orange-0 { border-color: var(--orange-0); } .border-orange-1 { border-color: var(--orange-1); } .border-orange-2 { border-color: var(--orange-2); } .border-orange-3 { border-color: var(--orange-3); } .border-orange-4 { border-color: var(--orange-4); } .border-orange-5 { border-color: var(--orange-5); } .border-orange-6 { border-color: var(--orange-6); } .border-orange-7 { border-color: var(--orange-7); } .border-orange-8 { border-color: var(--orange-8); } .border-orange-9 { border-color: var(--orange-9); } .border-orange-10 { border-color: var(--orange-10); } .border-orange-11 { border-color: var(--orange-11); } .border-orange-12 { border-color: var(--orange-12); }
  
  .border-amber-0 { border-color: var(--amber-0); } .border-amber-1 { border-color: var(--amber-1); } .border-amber-2 { border-color: var(--amber-2); } .border-amber-3 { border-color: var(--amber-3); } .border-amber-4 { border-color: var(--amber-4); } .border-amber-5 { border-color: var(--amber-5); } .border-amber-6 { border-color: var(--amber-6); } .border-amber-7 { border-color: var(--amber-7); } .border-amber-8 { border-color: var(--amber-8); } .border-amber-9 { border-color: var(--amber-9); } .border-amber-10 { border-color: var(--amber-10); } .border-amber-11 { border-color: var(--amber-11); } .border-amber-12 { border-color: var(--amber-12); }
  
  .border-yellow-0 { border-color: var(--yellow-0); } .border-yellow-1 { border-color: var(--yellow-1); } .border-yellow-2 { border-color: var(--yellow-2); } .border-yellow-3 { border-color: var(--yellow-3); } .border-yellow-4 { border-color: var(--yellow-4); } .border-yellow-5 { border-color: var(--yellow-5); } .border-yellow-6 { border-color: var(--yellow-6); } .border-yellow-7 { border-color: var(--yellow-7); } .border-yellow-8 { border-color: var(--yellow-8); } .border-yellow-9 { border-color: var(--yellow-9); } .border-yellow-10 { border-color: var(--yellow-10); } .border-yellow-11 { border-color: var(--yellow-11); } .border-yellow-12 { border-color: var(--yellow-12); }
  
  .border-lime-0 { border-color: var(--lime-0); } .border-lime-1 { border-color: var(--lime-1); } .border-lime-2 { border-color: var(--lime-2); } .border-lime-3 { border-color: var(--lime-3); } .border-lime-4 { border-color: var(--lime-4); } .border-lime-5 { border-color: var(--lime-5); } .border-lime-6 { border-color: var(--lime-6); } .border-lime-7 { border-color: var(--lime-7); } .border-lime-8 { border-color: var(--lime-8); } .border-lime-9 { border-color: var(--lime-9); } .border-lime-10 { border-color: var(--lime-10); } .border-lime-11 { border-color: var(--lime-11); } .border-lime-12 { border-color: var(--lime-12); }
  
  .border-green-0 { border-color: var(--green-0); } .border-green-1 { border-color: var(--green-1); } .border-green-2 { border-color: var(--green-2); } .border-green-3 { border-color: var(--green-3); } .border-green-4 { border-color: var(--green-4); } .border-green-5 { border-color: var(--green-5); } .border-green-6 { border-color: var(--green-6); } .border-green-7 { border-color: var(--green-7); } .border-green-8 { border-color: var(--green-8); } .border-green-9 { border-color: var(--green-9); } .border-green-10 { border-color: var(--green-10); } .border-green-11 { border-color: var(--green-11); } .border-green-12 { border-color: var(--green-12); }
  
  .border-emerald-0 { border-color: var(--emerald-0); } .border-emerald-1 { border-color: var(--emerald-1); } .border-emerald-2 { border-color: var(--emerald-2); } .border-emerald-3 { border-color: var(--emerald-3); } .border-emerald-4 { border-color: var(--emerald-4); } .border-emerald-5 { border-color: var(--emerald-5); } .border-emerald-6 { border-color: var(--emerald-6); } .border-emerald-7 { border-color: var(--emerald-7); } .border-emerald-8 { border-color: var(--emerald-8); } .border-emerald-9 { border-color: var(--emerald-9); } .border-emerald-10 { border-color: var(--emerald-10); } .border-emerald-11 { border-color: var(--emerald-11); } .border-emerald-12 { border-color: var(--emerald-12); }
  
  .border-teal-0 { border-color: var(--teal-0); } .border-teal-1 { border-color: var(--teal-1); } .border-teal-2 { border-color: var(--teal-2); } .border-teal-3 { border-color: var(--teal-3); } .border-teal-4 { border-color: var(--teal-4); } .border-teal-5 { border-color: var(--teal-5); } .border-teal-6 { border-color: var(--teal-6); } .border-teal-7 { border-color: var(--teal-7); } .border-teal-8 { border-color: var(--teal-8); } .border-teal-9 { border-color: var(--teal-9); } .border-teal-10 { border-color: var(--teal-10); } .border-teal-11 { border-color: var(--teal-11); } .border-teal-12 { border-color: var(--teal-12); }
  
  .border-cyan-0 { border-color: var(--cyan-0); } .border-cyan-1 { border-color: var(--cyan-1); } .border-cyan-2 { border-color: var(--cyan-2); } .border-cyan-3 { border-color: var(--cyan-3); } .border-cyan-4 { border-color: var(--cyan-4); } .border-cyan-5 { border-color: var(--cyan-5); } .border-cyan-6 { border-color: var(--cyan-6); } .border-cyan-7 { border-color: var(--cyan-7); } .border-cyan-8 { border-color: var(--cyan-8); } .border-cyan-9 { border-color: var(--cyan-9); } .border-cyan-10 { border-color: var(--cyan-10); } .border-cyan-11 { border-color: var(--cyan-11); } .border-cyan-12 { border-color: var(--cyan-12); }
  
  .border-sky-0 { border-color: var(--sky-0); } .border-sky-1 { border-color: var(--sky-1); } .border-sky-2 { border-color: var(--sky-2); } .border-sky-3 { border-color: var(--sky-3); } .border-sky-4 { border-color: var(--sky-4); } .border-sky-5 { border-color: var(--sky-5); } .border-sky-6 { border-color: var(--sky-6); } .border-sky-7 { border-color: var(--sky-7); } .border-sky-8 { border-color: var(--sky-8); } .border-sky-9 { border-color: var(--sky-9); } .border-sky-10 { border-color: var(--sky-10); } .border-sky-11 { border-color: var(--sky-11); } .border-sky-12 { border-color: var(--sky-12); }
  
  .border-blue-0 { border-color: var(--blue-0); } .border-blue-1 { border-color: var(--blue-1); } .border-blue-2 { border-color: var(--blue-2); } .border-blue-3 { border-color: var(--blue-3); } .border-blue-4 { border-color: var(--blue-4); } .border-blue-5 { border-color: var(--blue-5); } .border-blue-6 { border-color: var(--blue-6); } .border-blue-7 { border-color: var(--blue-7); } .border-blue-8 { border-color: var(--blue-8); } .border-blue-9 { border-color: var(--blue-9); } .border-blue-10 { border-color: var(--blue-10); } .border-blue-11 { border-color: var(--blue-11); } .border-blue-12 { border-color: var(--blue-12); }
  
  .border-indigo-0 { border-color: var(--indigo-0); } .border-indigo-1 { border-color: var(--indigo-1); } .border-indigo-2 { border-color: var(--indigo-2); } .border-indigo-3 { border-color: var(--indigo-3); } .border-indigo-4 { border-color: var(--indigo-4); } .border-indigo-5 { border-color: var(--indigo-5); } .border-indigo-6 { border-color: var(--indigo-6); } .border-indigo-7 { border-color: var(--indigo-7); } .border-indigo-8 { border-color: var(--indigo-8); } .border-indigo-9 { border-color: var(--indigo-9); } .border-indigo-10 { border-color: var(--indigo-10); } .border-indigo-11 { border-color: var(--indigo-11); } .border-indigo-12 { border-color: var(--indigo-12); }
  
  .border-violet-0 { border-color: var(--violet-0); } .border-violet-1 { border-color: var(--violet-1); } .border-violet-2 { border-color: var(--violet-2); } .border-violet-3 { border-color: var(--violet-3); } .border-violet-4 { border-color: var(--violet-4); } .border-violet-5 { border-color: var(--violet-5); } .border-violet-6 { border-color: var(--violet-6); } .border-violet-7 { border-color: var(--violet-7); } .border-violet-8 { border-color: var(--violet-8); } .border-violet-9 { border-color: var(--violet-9); } .border-violet-10 { border-color: var(--violet-10); } .border-violet-11 { border-color: var(--violet-11); } .border-violet-12 { border-color: var(--violet-12); }
  
  .border-purple-0 { border-color: var(--purple-0); } .border-purple-1 { border-color: var(--purple-1); } .border-purple-2 { border-color: var(--purple-2); } .border-purple-3 { border-color: var(--purple-3); } .border-purple-4 { border-color: var(--purple-4); } .border-purple-5 { border-color: var(--purple-5); } .border-purple-6 { border-color: var(--purple-6); } .border-purple-7 { border-color: var(--purple-7); } .border-purple-8 { border-color: var(--purple-8); } .border-purple-9 { border-color: var(--purple-9); } .border-purple-10 { border-color: var(--purple-10); } .border-purple-11 { border-color: var(--purple-11); } .border-purple-12 { border-color: var(--purple-12); }
  
  .border-fuchsia-0 { border-color: var(--fuchsia-0); } .border-fuchsia-1 { border-color: var(--fuchsia-1); } .border-fuchsia-2 { border-color: var(--fuchsia-2); } .border-fuchsia-3 { border-color: var(--fuchsia-3); } .border-fuchsia-4 { border-color: var(--fuchsia-4); } .border-fuchsia-5 { border-color: var(--fuchsia-5); } .border-fuchsia-6 { border-color: var(--fuchsia-6); } .border-fuchsia-7 { border-color: var(--fuchsia-7); } .border-fuchsia-8 { border-color: var(--fuchsia-8); } .border-fuchsia-9 { border-color: var(--fuchsia-9); } .border-fuchsia-10 { border-color: var(--fuchsia-10); } .border-fuchsia-11 { border-color: var(--fuchsia-11); } .border-fuchsia-12 { border-color: var(--fuchsia-12); }
  
  .border-pink-0 { border-color: var(--pink-0); } .border-pink-1 { border-color: var(--pink-1); } .border-pink-2 { border-color: var(--pink-2); } .border-pink-3 { border-color: var(--pink-3); } .border-pink-4 { border-color: var(--pink-4); } .border-pink-5 { border-color: var(--pink-5); } .border-pink-6 { border-color: var(--pink-6); } .border-pink-7 { border-color: var(--pink-7); } .border-pink-8 { border-color: var(--pink-8); } .border-pink-9 { border-color: var(--pink-9); } .border-pink-10 { border-color: var(--pink-10); } .border-pink-11 { border-color: var(--pink-11); } .border-pink-12 { border-color: var(--pink-12); }
  
  .border-rose-0 { border-color: var(--rose-0); } .border-rose-1 { border-color: var(--rose-1); } .border-rose-2 { border-color: var(--rose-2); } .border-rose-3 { border-color: var(--rose-3); } .border-rose-4 { border-color: var(--rose-4); } .border-rose-5 { border-color: var(--rose-5); } .border-rose-6 { border-color: var(--rose-6); } .border-rose-7 { border-color: var(--rose-7); } .border-rose-8 { border-color: var(--rose-8); } .border-rose-9 { border-color: var(--rose-9); } .border-rose-10 { border-color: var(--rose-10); } .border-rose-11 { border-color: var(--rose-11); } .border-rose-12 { border-color: var(--rose-12); }
  
  .border-success-palette-0 { border-color: var(--success-palette-0); } .border-success-palette-1 { border-color: var(--success-palette-1); } .border-success-palette-2 { border-color: var(--success-palette-2); } .border-success-palette-3 { border-color: var(--success-palette-3); } .border-success-palette-4 { border-color: var(--success-palette-4); } .border-success-palette-5 { border-color: var(--success-palette-5); } .border-success-palette-6 { border-color: var(--success-palette-6); } .border-success-palette-7 { border-color: var(--success-palette-7); } .border-success-palette-8 { border-color: var(--success-palette-8); } .border-success-palette-9 { border-color: var(--success-palette-9); } .border-success-palette-10 { border-color: var(--success-palette-10); } .border-success-palette-11 { border-color: var(--success-palette-11); } .border-success-palette-12 { border-color: var(--success-palette-12); }
  
  .border-warning-palette-0 { border-color: var(--warning-palette-0); } .border-warning-palette-1 { border-color: var(--warning-palette-1); } .border-warning-palette-2 { border-color: var(--warning-palette-2); } .border-warning-palette-3 { border-color: var(--warning-palette-3); } .border-warning-palette-4 { border-color: var(--warning-palette-4); } .border-warning-palette-5 { border-color: var(--warning-palette-5); } .border-warning-palette-6 { border-color: var(--warning-palette-6); } .border-warning-palette-7 { border-color: var(--warning-palette-7); } .border-warning-palette-8 { border-color: var(--warning-palette-8); } .border-warning-palette-9 { border-color: var(--warning-palette-9); } .border-warning-palette-10 { border-color: var(--warning-palette-10); } .border-warning-palette-11 { border-color: var(--warning-palette-11); } .border-warning-palette-12 { border-color: var(--warning-palette-12); }
  
  .border-error-palette-0 { border-color: var(--error-palette-0); } .border-error-palette-1 { border-color: var(--error-palette-1); } .border-error-palette-2 { border-color: var(--error-palette-2); } .border-error-palette-3 { border-color: var(--error-palette-3); } .border-error-palette-4 { border-color: var(--error-palette-4); } .border-error-palette-5 { border-color: var(--error-palette-5); } .border-error-palette-6 { border-color: var(--error-palette-6); } .border-error-palette-7 { border-color: var(--error-palette-7); } .border-error-palette-8 { border-color: var(--error-palette-8); } .border-error-palette-9 { border-color: var(--error-palette-9); } .border-error-palette-10 { border-color: var(--error-palette-10); } .border-error-palette-11 { border-color: var(--error-palette-11); } .border-error-palette-12 { border-color: var(--error-palette-12); }
  
  .border-info-palette-0 { border-color: var(--info-palette-0); } .border-info-palette-1 { border-color: var(--info-palette-1); } .border-info-palette-2 { border-color: var(--info-palette-2); } .border-info-palette-3 { border-color: var(--info-palette-3); } .border-info-palette-4 { border-color: var(--info-palette-4); } .border-info-palette-5 { border-color: var(--info-palette-5); } .border-info-palette-6 { border-color: var(--info-palette-6); } .border-info-palette-7 { border-color: var(--info-palette-7); } .border-info-palette-8 { border-color: var(--info-palette-8); } .border-info-palette-9 { border-color: var(--info-palette-9); } .border-info-palette-10 { border-color: var(--info-palette-10); } .border-info-palette-11 { border-color: var(--info-palette-11); } .border-info-palette-12 { border-color: var(--info-palette-12); }


  /* --- Button Style Utilities --- */
  /* Combine with .button from components */
  /* Filled Buttons */
  .button-filled-accent { background-color: var(--accent); --bg: var(--accent); color: var(--auto-contrast-text); border-color: transparent; }
  .button-filled-accent:hover:not([disabled]) { background-color: var(--accent-overt); --bg: var(--accent-overt); }
  .button-filled-accent:active:not([disabled]) { background-color: oklch(from var(--accent-overt) calc(l + var(--l-delta-1-down)) c h); --bg: oklch(from var(--accent-overt) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-filled-secondary { background-color: var(--secondary); --bg: var(--secondary); color: var(--auto-contrast-text); border-color: transparent; }
  .button-filled-secondary:hover:not([disabled]) { background-color: var(--secondary-overt); --bg: var(--secondary-overt); }
  .button-filled-secondary:active:not([disabled]) { background-color: oklch(from var(--secondary-overt) calc(l + var(--l-delta-1-down)) c h); --bg: oklch(from var(--secondary-overt) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-filled-tertiary { background-color: var(--tertiary); --bg: var(--tertiary); color: var(--auto-contrast-text); border-color: transparent; }
  .button-filled-tertiary:hover:not([disabled]) { background-color: var(--tertiary-overt); --bg: var(--tertiary-overt); }
  .button-filled-tertiary:active:not([disabled]) { background-color: oklch(from var(--tertiary-overt) calc(l + var(--l-delta-1-down)) c h); --bg: oklch(from var(--tertiary-overt) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-filled-success { background-color: var(--success); --bg: var(--success); color: var(--auto-contrast-text); border-color: transparent; }
  .button-filled-success:hover:not([disabled]) { background-color: oklch(from var(--success) calc(l + var(--l-delta-2-down)) c h); --bg: oklch(from var(--success) calc(l + var(--l-delta-2-down)) c h); }
  .button-filled-success:active:not([disabled]) { background-color: oklch(from var(--success) calc(l + var(--l-delta-3-down)) c h); --bg: oklch(from var(--success) calc(l + var(--l-delta-3-down)) c h); }
  
  .button-filled-warning { background-color: var(--warning); --bg: var(--warning); color: var(--auto-contrast-text); border-color: transparent; }
  .button-filled-warning:hover:not([disabled]) { background-color: oklch(from var(--warning) calc(l + var(--l-delta-2-down)) c h); --bg: oklch(from var(--warning) calc(l + var(--l-delta-2-down)) c h); }
  .button-filled-warning:active:not([disabled]) { background-color: oklch(from var(--warning) calc(l + var(--l-delta-3-down)) c h); --bg: oklch(from var(--warning) calc(l + var(--l-delta-3-down)) c h); }
  
  .button-filled-error { background-color: var(--error); --bg: var(--error); color: var(--auto-contrast-text); border-color: transparent; }
  .button-filled-error:hover:not([disabled]) { background-color: oklch(from var(--error) calc(l + var(--l-delta-2-down)) c h); --bg: oklch(from var(--error) calc(l + var(--l-delta-2-down)) c h); }
  .button-filled-error:active:not([disabled]) { background-color: oklch(from var(--error) calc(l + var(--l-delta-3-down)) c h); --bg: oklch(from var(--error) calc(l + var(--l-delta-3-down)) c h); }
  
  .button-filled-info { background-color: var(--info); --bg: var(--info); color: var(--auto-contrast-text); border-color: transparent; }
  .button-filled-info:hover:not([disabled]) { background-color: oklch(from var(--info) calc(l + var(--l-delta-2-down)) c h); --bg: oklch(from var(--info) calc(l + var(--l-delta-2-down)) c h); }
  .button-filled-info:active:not([disabled]) { background-color: oklch(from var(--info) calc(l + var(--l-delta-3-down)) c h); --bg: oklch(from var(--info) calc(l + var(--l-delta-3-down)) c h); }
  
  .button-filled-gray { background-color: var(--surface-overt); --bg: var(--surface-overt); color: var(--auto-contrast-text); border-color: transparent; }
  .button-filled-gray:hover:not([disabled]) { background-color: oklch(from var(--surface-overt) calc(l + var(--l-delta-2-down)) c h); --bg: oklch(from var(--surface-overt) calc(l + var(--l-delta-2-down)) c h); }
  .button-filled-gray:active:not([disabled]) { background-color: oklch(from var(--surface-overt) calc(l + var(--l-delta-3-down)) c h); --bg: oklch(from var(--surface-overt) calc(l + var(--l-delta-3-down)) c h); }
  
  /* Outline Buttons */
  .button-outline-accent { color: var(--accent); border-color: var(--accent-subtle); background-color: transparent; }
  .button-outline-accent:hover:not([disabled]) { background-color: var(--accent-muted); border-color: var(--accent); }
  .button-outline-accent:active:not([disabled]) { background-color: oklch(from var(--accent-muted) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-outline-secondary { color: var(--secondary); border-color: var(--secondary-subtle); background-color: transparent; }
  .button-outline-secondary:hover:not([disabled]) { background-color: var(--secondary-muted); border-color: var(--secondary); }
  .button-outline-secondary:active:not([disabled]) { background-color: oklch(from var(--secondary-muted) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-outline-tertiary { color: var(--tertiary); border-color: var(--tertiary-subtle); background-color: transparent; }
  .button-outline-tertiary:hover:not([disabled]) { background-color: var(--tertiary-muted); border-color: var(--tertiary); }
  .button-outline-tertiary:active:not([disabled]) { background-color: oklch(from var(--tertiary-muted) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-outline-success { color: var(--success); border-color: var(--outline-success); background-color: transparent; }
  .button-outline-success:hover:not([disabled]) { background-color: var(--surface-success); border-color: var(--success); }
  .button-outline-success:active:not([disabled]) { background-color: oklch(from var(--surface-success) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-outline-warning { color: var(--warning); border-color: var(--outline-warning); background-color: transparent; }
  .button-outline-warning:hover:not([disabled]) { background-color: var(--surface-warning); border-color: var(--warning); }
  .button-outline-warning:active:not([disabled]) { background-color: oklch(from var(--surface-warning) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-outline-error { color: var(--error); border-color: var(--outline-error); background-color: transparent; }
  .button-outline-error:hover:not([disabled]) { background-color: var(--surface-error); border-color: var(--error); }
  .button-outline-error:active:not([disabled]) { background-color: oklch(from var(--surface-error) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-outline-info { color: var(--info); border-color: var(--outline-info); background-color: transparent; }
  .button-outline-info:hover:not([disabled]) { background-color: var(--surface-info); border-color: var(--info); }
  .button-outline-info:active:not([disabled]) { background-color: oklch(from var(--surface-info) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-outline-gray { color: var(--text-subtle); border-color: var(--outline-default); background-color: transparent; }
  .button-outline-gray:hover:not([disabled]) { background-color: var(--highlight-bg-subtle); color: var(--text-default); border-color: var(--outline-overt); }
  .button-outline-gray:active:not([disabled]) { background-color: oklch(from var(--highlight-bg-subtle) calc(l + var(--l-delta-1-down)) c h); }
  
  /* Text Buttons */
  .button-text-accent { color: var(--accent); background-color: transparent; border-color: transparent;}
  .button-text-accent:hover:not([disabled]) { background-color: var(--accent-muted); }
  .button-text-accent:active:not([disabled]) { background-color: oklch(from var(--accent-muted) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-text-secondary { color: var(--secondary); background-color: transparent; border-color: transparent;}
  .button-text-secondary:hover:not([disabled]) { background-color: var(--secondary-muted); }
  .button-text-secondary:active:not([disabled]) { background-color: oklch(from var(--secondary-muted) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-text-tertiary { color: var(--tertiary); background-color: transparent; border-color: transparent;}
  .button-text-tertiary:hover:not([disabled]) { background-color: var(--tertiary-muted); }
  .button-text-tertiary:active:not([disabled]) { background-color: oklch(from var(--tertiary-muted) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-text-success { color: var(--success); background-color: transparent; border-color: transparent;}
  .button-text-success:hover:not([disabled]) { background-color: var(--surface-success); }
  .button-text-success:active:not([disabled]) { background-color: oklch(from var(--surface-success) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-text-warning { color: var(--warning); background-color: transparent; border-color: transparent;}
  .button-text-warning:hover:not([disabled]) { background-color: var(--surface-warning); }
  .button-text-warning:active:not([disabled]) { background-color: oklch(from var(--surface-warning) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-text-error { color: var(--error); background-color: transparent; border-color: transparent;}
  .button-text-error:hover:not([disabled]) { background-color: var(--surface-error); }
  .button-text-error:active:not([disabled]) { background-color: oklch(from var(--surface-error) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-text-info { color: var(--info); background-color: transparent; border-color: transparent;}
  .button-text-info:hover:not([disabled]) { background-color: var(--surface-info); }
  .button-text-info:active:not([disabled]) { background-color: oklch(from var(--surface-info) calc(l + var(--l-delta-1-down)) c h); }
  
  .button-text-gray { color: var(--text-subtle); background-color: transparent; border-color: transparent;}
  .button-text-gray:hover:not([disabled]) { background-color: var(--highlight-bg-subtle); color: var(--text-default); }
  .button-text-gray:active:not([disabled]) { background-color: oklch(from var(--highlight-bg-subtle) calc(l + var(--l-delta-1-down)) c h); }

  /* --- Alpha / Opacity Utilities --- */
  .opacity-0 { opacity: var(--alpha-0); } .opacity-5 { opacity: var(--alpha-1); } .opacity-10 { opacity: var(--alpha-2); } .opacity-20 { opacity: var(--alpha-3); }
  .opacity-40 { opacity: var(--alpha-4); } .opacity-60 { opacity: var(--alpha-5); } .opacity-75 { opacity: var(--alpha-6); } .opacity-90 { opacity: var(--alpha-7); } .opacity-100 { opacity: var(--alpha-8); }
  /* Background with Alpha */
  .bg-accent-alpha-10 { background-color: oklch(from var(--accent) l c h / var(--alpha-2)); }
  .bg-accent-alpha-20 { background-color: oklch(from var(--accent) l c h / var(--alpha-3)); }
  .bg-accent-alpha-40 { background-color: oklch(from var(--accent) l c h / var(--alpha-4)); }
  .bg-accent-alpha-60 { background-color: oklch(from var(--accent) l c h / var(--alpha-5)); }
  .bg-black-alpha-50 { background-color: oklch(0% 0 0 / 0.5); }
  .bg-white-alpha-50 { background-color: oklch(100% 0 0 / 0.5); }

  /* --- Auto Contrast Utility --- */
  .auto-contrast {
    /* Requires --_local-bg to be set where background is defined */
    /* e.g., <div class="bg-accent-palette-7 auto-contrast" style="--_local-bg: var(--accent-palette-7)">Text</div> */
    --bg: var(--_local-bg, var(--base)); /* Fallback to theme base */
    color: var(--auto-contrast-text);
  }

  /* --- Palette Swatch Helper --- */
  .palette-swatch { display: inline-block; width: 2.5rem; height: 2.5rem; border-radius: var(--radius-sm); border: var(--border-width-thin) solid var(--outline-muted); margin: 0.25rem; vertical-align: middle; }
  .swatch-label { font-size: 0.75rem; color: var(--text-subtle); margin-left: 0.5rem; }
  .swatch-group { margin-bottom: 1rem; padding: 0.5rem; border: 1px dashed var(--outline-subtle); border-radius: var(--radius-md); }
  
  /* --- Enhanced Shadow Utilities --- */
  .shadow-sm { box-shadow: var(--shadow-sm); }
  .shadow-md { box-shadow: var(--shadow-md); }
  .shadow-lg { box-shadow: var(--shadow-lg); }
  .shadow-xl { box-shadow: var(--shadow-xl); }
  .shadow-inner { box-shadow: var(--shadow-inner); }
  .shadow-none { box-shadow: none; }
  .shadow-card { box-shadow: var(--shadow-card); }
  .shadow-dropdown { box-shadow: var(--shadow-dropdown); }
  .shadow-modal { box-shadow: var(--shadow-modal); }
  
  /* --- Border Radius Utilities --- */
  .radius-none { border-radius: 0; }
  .radius-sm { border-radius: var(--radius-sm); }
  .radius-md { border-radius: var(--radius-md); }
  .radius-lg { border-radius: var(--radius-lg); }
  .radius-xl { border-radius: var(--radius-xl); }
  .radius-full { border-radius: var(--radius-full); }
  .radius-t-sm { border-top-left-radius: var(--radius-sm); border-top-right-radius: var(--radius-sm); }
  .radius-r-sm { border-top-right-radius: var(--radius-sm); border-bottom-right-radius: var(--radius-sm); }
  .radius-b-sm { border-bottom-left-radius: var(--radius-sm); border-bottom-right-radius: var(--radius-sm); }
  .radius-l-sm { border-top-left-radius: var(--radius-sm); border-bottom-left-radius: var(--radius-sm); }
  .radius-t-md { border-top-left-radius: var(--radius-md); border-top-right-radius: var(--radius-md); }
  .radius-r-md { border-top-right-radius: var(--radius-md); border-bottom-right-radius: var(--radius-md); }
  .radius-b-md { border-bottom-left-radius: var(--radius-md); border-bottom-right-radius: var(--radius-md); }
  .radius-l-md { border-top-left-radius: var(--radius-md); border-bottom-left-radius: var(--radius-md); }
  .radius-t-lg { border-top-left-radius: var(--radius-lg); border-top-right-radius: var(--radius-lg); }
  .radius-r-lg { border-top-right-radius: var(--radius-lg); border-bottom-right-radius: var(--radius-lg); }
  .radius-b-lg { border-bottom-left-radius: var(--radius-lg); border-bottom-right-radius: var(--radius-lg); }
  .radius-l-lg { border-top-left-radius: var(--radius-lg); border-bottom-left-radius: var(--radius-lg); }
  
  /* --- Border Width Utilities --- */
  .border-none { border-width: 0; }
  .border-thin { border-width: var(--border-width-thin); }
  .border { border-width: var(--border-width); }
  .border-thick { border-width: var(--border-width-thick); }
  .border-t { border-top-width: var(--border-width); border-right-width: 0; border-bottom-width: 0; border-left-width: 0; }
  .border-r { border-top-width: 0; border-right-width: var(--border-width); border-bottom-width: 0; border-left-width: 0; }
  .border-b { border-top-width: 0; border-right-width: 0; border-bottom-width: var(--border-width); border-left-width: 0; }
  .border-l { border-top-width: 0; border-right-width: 0; border-bottom-width: 0; border-left-width: var(--border-width); }
  .border-x { border-top-width: 0; border-right-width: var(--border-width); border-bottom-width: 0; border-left-width: var(--border-width); }
  .border-y { border-top-width: var(--border-width); border-right-width: 0; border-bottom-width: var(--border-width); border-left-width: 0; }
  
  /* --- Spacing Utilities --- */
  
  /* --- Spacing Utilities --- */
  .gap-0 { gap: var(--spacing-0); }
  .gap-xs { gap: var(--spacing-xs); }
  .gap-sm { gap: var(--spacing-sm); }
  .gap-md { gap: var(--spacing-md); }
  .gap-lg { gap: var(--spacing-lg); }
  .gap-xl { gap: var(--spacing-xl); }
  .gap-2xl { gap: var(--spacing-2xl); }
  .gap-3xl { gap: var(--spacing-3xl); }
  
  .p-0 { padding: var(--spacing-0); }
  .p-xs { padding: var(--spacing-xs); }
  .p-sm { padding: var(--spacing-sm); }
  .p-md { padding: var(--spacing-md); }
  .p-lg { padding: var(--spacing-lg); }
  .p-xl { padding: var(--spacing-xl); }
  .p-2xl { padding: var(--spacing-2xl); }
  .p-3xl { padding: var(--spacing-3xl); }
  
  .px-0 { padding-left: var(--spacing-0); padding-right: var(--spacing-0); }
  .px-xs { padding-left: var(--spacing-xs); padding-right: var(--spacing-xs); }
  .px-sm { padding-left: var(--spacing-sm); padding-right: var(--spacing-sm); }
  .px-md { padding-left: var(--spacing-md); padding-right: var(--spacing-md); }
  .px-lg { padding-left: var(--spacing-lg); padding-right: var(--spacing-lg); }
  .px-xl { padding-left: var(--spacing-xl); padding-right: var(--spacing-xl); }
  .px-2xl { padding-left: var(--spacing-2xl); padding-right: var(--spacing-2xl); }
  .px-3xl { padding-left: var(--spacing-3xl); padding-right: var(--spacing-3xl); }
  
  .py-0 { padding-top: var(--spacing-0); padding-bottom: var(--spacing-0); }
  .py-xs { padding-top: var(--spacing-xs); padding-bottom: var(--spacing-xs); }
  .py-sm { padding-top: var(--spacing-sm); padding-bottom: var(--spacing-sm); }
  .py-md { padding-top: var(--spacing-md); padding-bottom: var(--spacing-md); }
  .py-lg { padding-top: var(--spacing-lg); padding-bottom: var(--spacing-lg); }
  .py-xl { padding-top: var(--spacing-xl); padding-bottom: var(--spacing-xl); }
  .py-2xl { padding-top: var(--spacing-2xl); padding-bottom: var(--spacing-2xl); }
  .py-3xl { padding-top: var(--spacing-3xl); padding-bottom: var(--spacing-3xl); }
  
  .m-0 { margin: var(--spacing-0); }
  .m-xs { margin: var(--spacing-xs); }
  .m-sm { margin: var(--spacing-sm); }
  .m-md { margin: var(--spacing-md); }
  .m-lg { margin: var(--spacing-lg); }
  .m-xl { margin: var(--spacing-xl); }
  .m-2xl { margin: var(--spacing-2xl); }
  .m-3xl { margin: var(--spacing-3xl); }
  
  .mx-0 { margin-left: var(--spacing-0); margin-right: var(--spacing-0); }
  .mx-xs { margin-left: var(--spacing-xs); margin-right: var(--spacing-xs); }
  .mx-sm { margin-left: var(--spacing-sm); margin-right: var(--spacing-sm); }
  .mx-md { margin-left: var(--spacing-md); margin-right: var(--spacing-md); }
  .mx-lg { margin-left: var(--spacing-lg); margin-right: var(--spacing-lg); }
  .mx-xl { margin-left: var(--spacing-xl); margin-right: var(--spacing-xl); }
  .mx-2xl { margin-left: var(--spacing-2xl); margin-right: var(--spacing-2xl); }
  .mx-3xl { margin-left: var(--spacing-3xl); margin-right: var(--spacing-3xl); }
  .mx-auto { margin-left: auto; margin-right: auto; }
  
  .my-0 { margin-top: var(--spacing-0); margin-bottom: var(--spacing-0); }
  .my-xs { margin-top: var(--spacing-xs); margin-bottom: var(--spacing-xs); }
  .my-sm { margin-top: var(--spacing-sm); margin-bottom: var(--spacing-sm); }
  .my-md { margin-top: var(--spacing-md); margin-bottom: var(--spacing-md); }
  .my-lg { margin-top: var(--spacing-lg); margin-bottom: var(--spacing-lg); }
  .my-xl { margin-top: var(--spacing-xl); margin-bottom: var(--spacing-xl); }
  .my-2xl { margin-top: var(--spacing-2xl); margin-bottom: var(--spacing-2xl); }
  .my-3xl { margin-top: var(--spacing-3xl); margin-bottom: var(--spacing-3xl); }
  
  /* --- Positioning Utilities --- */
  
  /* --- Positioning Utilities --- */
  .position-static { position: static; }
  .position-relative { position: relative; }
  .position-absolute { position: absolute; }
  .position-fixed { position: fixed; }
  .position-sticky { position: sticky; }
  
  .inset-0 { top: var(--inset-0); right: var(--inset-0); bottom: var(--inset-0); left: var(--inset-0); }
  .inset-xs { top: var(--inset-xs); right: var(--inset-xs); bottom: var(--inset-xs); left: var(--inset-xs); }
  .inset-sm { top: var(--inset-sm); right: var(--inset-sm); bottom: var(--inset-sm); left: var(--inset-sm); }
  .inset-md { top: var(--inset-md); right: var(--inset-md); bottom: var(--inset-md); left: var(--inset-md); }
  
  .top-0 { top: var(--inset-0); }
  .right-0 { right: var(--inset-0); }
  .bottom-0 { bottom: var(--inset-0); }
  .left-0 { left: var(--inset-0); }
  
  .top-xs { top: var(--inset-xs); }
  .right-xs { right: var(--inset-xs); }
  .bottom-xs { bottom: var(--inset-xs); }
  .left-xs { left: var(--inset-xs); }
  
  .top-sm { top: var(--inset-sm); }
  .right-sm { right: var(--inset-sm); }
  .bottom-sm { bottom: var(--inset-sm); }
  .left-sm { left: var(--inset-sm); }
  
  .top-md { top: var(--inset-md); }
  .right-md { right: var(--inset-md); }
  .bottom-md { bottom: var(--inset-md); }
  .left-md { left: var(--inset-md); }
  
  /* --- Z-Index Utilities --- */
  .z-0 { z-index: var(--z-index-0); }
  .z-10 { z-index: var(--z-index-10); }
  .z-20 { z-index: var(--z-index-20); }
  .z-30 { z-index: var(--z-index-30); }
  .z-40 { z-index: var(--z-index-40); }
  .z-50 { z-index: var(--z-index-50); }
  .z-auto { z-index: var(--z-index-auto); }
  
  /* --- Display & Visibility Utilities --- */
  .display-block { display: block; }
  .display-inline-block { display: inline-block; }
  .display-inline { display: inline; }
  .display-flex { display: flex; }
  .display-inline-flex { display: inline-flex; }
  .display-grid { display: grid; }
  .display-inline-grid { display: inline-grid; }
  .display-none { display: none; }
  
  .visibility-visible { visibility: visible; }
  .visibility-hidden { visibility: hidden; }
  .visibility-collapse { visibility: collapse; }
  
  /* --- Flex & Grid Utilities --- */
  
  /* --- Flex Utilities --- */
  .flex-row { flex-direction: row; }
  .flex-row-reverse { flex-direction: row-reverse; }
  .flex-col { flex-direction: column; }
  .flex-col-reverse { flex-direction: column-reverse; }
  
  .flex-wrap { flex-wrap: wrap; }
  .flex-nowrap { flex-wrap: nowrap; }
  .flex-wrap-reverse { flex-wrap: wrap-reverse; }
  
  .justify-start { justify-content: flex-start; }
  .justify-end { justify-content: flex-end; }
  .justify-center { justify-content: center; }
  .justify-between { justify-content: space-between; }
  .justify-around { justify-content: space-around; }
  .justify-evenly { justify-content: space-evenly; }
  
  .items-start { align-items: flex-start; }
  .items-end { align-items: flex-end; }
  .items-center { align-items: center; }
  .items-baseline { align-items: baseline; }
  .items-stretch { align-items: stretch; }
  
  .self-auto { align-self: auto; }
  .self-start { align-self: flex-start; }
  .self-end { align-self: flex-end; }
  .self-center { align-self: center; }
  .self-stretch { align-self: stretch; }
  
  .flex-1 { flex: var(--flex-1); }
  .flex-auto { flex: var(--flex-auto); }
  .flex-initial { flex: var(--flex-initial); }
  .flex-none { flex: var(--flex-none); }
  .flex-grow { flex-grow: 1; }
  .flex-shrink { flex-shrink: 1; }
  .flex-grow-0 { flex-grow: 0; }
  .flex-shrink-0 { flex-shrink: 0; }
  
  /* --- Grid Utilities --- */
  .grid-cols-1 { grid-template-columns: var(--grid-cols-1); }
  .grid-cols-2 { grid-template-columns: var(--grid-cols-2); }
  .grid-cols-3 { grid-template-columns: var(--grid-cols-3); }
  .grid-cols-4 { grid-template-columns: var(--grid-cols-4); }
  .grid-cols-6 { grid-template-columns: var(--grid-cols-6); }
  .grid-cols-12 { grid-template-columns: var(--grid-cols-12); }
  
  .grid-rows-1 { grid-template-rows: var(--grid-cols-1); }
  .grid-rows-2 { grid-template-rows: var(--grid-cols-2); }
  .grid-rows-3 { grid-template-rows: var(--grid-cols-3); }
  .grid-rows-4 { grid-template-rows: var(--grid-cols-4); }
  .grid-rows-6 { grid-template-rows: var(--grid-cols-6); }
  
  .col-span-1 { grid-column: span 1 / span 1; }
  .col-span-2 { grid-column: span 2 / span 2; }
  .col-span-3 { grid-column: span 3 / span 3; }
  .col-span-4 { grid-column: span 4 / span 4; }
  .col-span-5 { grid-column: span 5 / span 5; }
  .col-span-6 { grid-column: span 6 / span 6; }
  .col-span-7 { grid-column: span 7 / span 7; }
  .col-span-8 { grid-column: span 8 / span 8; }
  .col-span-9 { grid-column: span 9 / span 9; }
  .col-span-10 { grid-column: span 10 / span 10; }
  .col-span-11 { grid-column: span 11 / span 11; }
  .col-span-12 { grid-column: span 12 / span 12; }
  .col-span-full { grid-column: 1 / -1; }
  
  .row-span-1 { grid-row: span 1 / span 1; }
  .row-span-2 { grid-row: span 2 / span 2; }
  .row-span-3 { grid-row: span 3 / span 3; }
  .row-span-4 { grid-row: span 4 / span 4; }
  .row-span-5 { grid-row: span 5 / span 5; }
  .row-span-6 { grid-row: span 6 / span 6; }
  .row-span-full { grid-row: 1 / -1; }
  
  /* --- Typography Utilities --- */
  
  /* --- Typography Utilities --- */
  .text-xs { font-size: var(--font-size-xs); }
  .text-sm { font-size: var(--font-size-sm); }
  .text-base { font-size: var(--font-size-base); }
  .text-lg { font-size: var(--font-size-lg); }
  .text-xl { font-size: var(--font-size-xl); }
  .text-2xl { font-size: var(--font-size-2xl); }
  .text-3xl { font-size: var(--font-size-3xl); }
  .text-4xl { font-size: var(--font-size-4xl); }
  
  .font-thin { font-weight: var(--font-weight-thin); }
  .font-extralight { font-weight: var(--font-weight-extralight); }
  .font-light { font-weight: var(--font-weight-light); }
  .font-normal { font-weight: var(--font-weight-normal); }
  .font-medium { font-weight: var(--font-weight-medium); }
  .font-semibold { font-weight: var(--font-weight-semibold); }
  .font-bold { font-weight: var(--font-weight-bold); }
  .font-extrabold { font-weight: var(--font-weight-extrabold); }
  .font-black { font-weight: var(--font-weight-black); }
  
  .text-left { text-align: left; }
  .text-center { text-align: center; }
  .text-right { text-align: right; }
  .text-justify { text-align: justify; }
  
  .leading-none { line-height: var(--line-height-none); }
  .leading-tight { line-height: var(--line-height-tight); }
  .leading-snug { line-height: var(--line-height-snug); }
  .leading-normal { line-height: var(--line-height-normal); }
  .leading-relaxed { line-height: var(--line-height-relaxed); }
  .leading-loose { line-height: var(--line-height-loose); }
  
  .tracking-tighter { letter-spacing: var(--letter-spacing-tighter); }
  .tracking-tight { letter-spacing: var(--letter-spacing-tight); }
  .tracking-normal { letter-spacing: var(--letter-spacing-normal); }
  .tracking-wide { letter-spacing: var(--letter-spacing-wide); }
  .tracking-wider { letter-spacing: var(--letter-spacing-wider); }
  .tracking-widest { letter-spacing: var(--letter-spacing-widest); }
  
  /* --- Container Query Utilities --- */
  .cq-type-inline { container-type: inline-size; }
  .cq-type-size { container-type: size; }
  .cq-type-normal { container-type: normal; }
  
  .cq-name-card { container-name: card; }
  .cq-name-sidebar { container-name: sidebar; }
  .cq-name-layout { container-name: layout; }
  .cq-name-section { container-name: section; }
} /* End of @layer utilities */

/* ================================================ */
/* ==     NEW COLOR SYSTEM - LAYERS END          == */
/* ================================================ */


/* ================================================ */
/* ==               @layer layouts               == */
/* ================================================ */
/* Purpose: Provide responsive layout primitives. */
/* (This layer is mostly unchanged but now benefits from the new theme's spacing/sizing vars if they were updated) */
@layer layouts {
  /* --- General Layout Container --- */
  .l-container { container-type: var(--l-container-type, inline-size); container-name: var(--l-container-name, layout); }
  /* ================== Grid Layouts ================== */
  .l-grid { display: grid; gap: var(--l-grid-gap, var(--space-md)); grid-template-columns: repeat(auto-fit, minmax(min(100%, var(--l-grid-min-item-size, 15rem)), 1fr)); container-type: inline-size; container-name: layout-grid; }
  .l-grid > * { min-width: 0; }
  @container layout-grid (min-width: var(--cq-bp-sm, 30em)) { /* ... responsive columns ... */ }
  @container layout-grid (min-width: var(--cq-bp-md, 45em)) { /* ... responsive columns ... */ }
  .l-two-col { display: grid; gap: var(--l-two-col-gap, var(--space-lg)); container-type: inline-size; container-name: layout-two-col; grid-template-columns: 1fr; }
  .l-two-col > * { min-width: 0; }
  @container layout-two-col (min-width: var(--l-two-col-breakpoint, var(--cq-bp-sm, 30em))) { /* ... responsive columns ... */ }
  .l-split { display: grid; grid-template-columns: 1fr; gap: var(--l-split-gap, var(--space-lg)); container-type: inline-size; container-name: layout-split; }
  .l-split > * { min-width: 0; }
  @container layout-split (min-width: var(--l-split-breakpoint, var(--cq-bp-sm, 30em))) { .l-split { grid-template-columns: var(--l-split-fraction, 1fr) 1fr; } }
  .l-split--no-stack { grid-template-columns: var(--l-split-fraction, 1fr) 1fr; }
  /* ================= Flexbox Layouts ================= */
  .l-row { display: flex; flex-wrap: var(--l-row-wrap, wrap); gap: var(--l-row-gap, var(--space-md)); container-type: inline-size; container-name: layout-row; flex-direction: column; align-items: var(--l-row-align-stacked, stretch); }
  .l-row > * { min-width: 0; }
  @container layout-row (min-width: var(--l-row-stack-breakpoint, var(--cq-bp-xs, 20em))) { .l-row:not(.l-row--force-stack) { flex-direction: var(--l-row-direction, row); align-items: var(--l-row-align, center); justify-content: var(--l-row-justify, flex-start); } }
  .l-row--no-stack { flex-direction: var(--l-row-direction, row); align-items: var(--l-row-align, center); justify-content: var(--l-row-justify, flex-start); }
  .l-stack { display: flex; flex-direction: column; justify-content: var(--l-stack-justify, flex-start); align-items: var(--l-stack-align, stretch); gap: var(--l-stack-gap, var(--space-md)); }
  .l-cluster { display: flex; flex-wrap: wrap; gap: var(--l-cluster-gap, var(--space-sm)); justify-content: var(--l-cluster-justify, flex-start); align-items: var(--l-cluster-align, center); }
  .l-reel { display: flex; gap: var(--l-reel-gap, var(--space-md)); overflow-x: auto; overflow-y: hidden; scrollbar-width: thin; scrollbar-color: var(--scrollbar-thumb-color) var(--scrollbar-track-color); -webkit-overflow-scrolling: touch; } /* Uses theme scrollbar vars */
  .l-reel--no-scrollbar { scrollbar-width: none; } .l-reel--no-scrollbar::-webkit-scrollbar { display: none; } .l-reel > * { flex-shrink: 0; } .l-reel > img { height: 100%; max-height: var(--l-reel-item-max-height, 100%); width: auto; flex-basis: auto; }
  .l-switcher { display: flex; flex-wrap: wrap; gap: var(--l-switcher-gap, var(--space-sm)); } .l-switcher > * { flex-grow: 1; flex-basis: calc((var(--l-switcher-threshold, 20rem) - 100%) * 999); }
  .l-spread { display: flex; flex-direction: var(--l-spread-direction, row); justify-content: space-between; align-items: var(--l-spread-align, center); gap: var(--l-spread-gap, var(--space-md)); }
  /* ================= Wrapper Components ================= */
  .l-pad { padding: var(--l-pad-padding, var(--space-md)); padding-inline: var(--l-pad-padding-x, var(--l-pad-padding, var(--space-md))); padding-block: var(--l-pad-padding-y, var(--l-pad-padding, var(--space-md))); }
  .l-center-content { box-sizing: content-box; margin-inline: auto; max-width: var(--l-center-content-max-width, var(--width-container-max, 60ch)); padding-inline: var(--l-center-content-gutter, 0); text-align: var(--l-center-content-text-align, initial); }
  .l-cover { display: grid; place-content: var(--l-cover-place-content, center); place-items: var(--l-cover-place-items, center); padding: var(--l-cover-padding, var(--space-lg)); min-height: var(--l-cover-min-height, 50vh); overflow: hidden; text-align: var(--l-cover-text-align, center); }
  .l-frame { position: relative; overflow: hidden; aspect-ratio: var(--l-frame-ratio, 16 / 9); } .l-frame > :first-child { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: var(--l-frame-object-fit, cover); object-position: var(--l-frame-object-position, center); }
  .l-center { display: flex; justify-content: var(--l-center-justify, center); align-items: var(--l-center-align, center); min-height: var(--l-center-min-height, auto); padding: var(--l-center-padding, 0); } .l-center--h { align-items: initial; } .l-center--v { justify-content: initial; }
  /* ================= Complex/Specific Layouts ================= */
  .l-sidebar { display: grid; gap: var(--l-sidebar-gap, var(--space-lg)); container-type: inline-size; container-name: layout-sidebar; grid-template-areas: "content" "sidebar"; }
  .l-sidebar > *:not(.l-sidebar__aside) { grid-area: content; min-width: 0; } .l-sidebar > .l-sidebar__aside { grid-area: sidebar; min-width: 0; width: 100%; }
  @container layout-sidebar (min-width: var(--l-sidebar-breakpoint, var(--cq-bp-md, 45em))) { .l-sidebar { grid-template-columns: var(--l-sidebar-width, minmax(15rem, 25%)) 1fr; grid-template-areas: "sidebar content"; } .l-sidebar > .l-sidebar__aside { width: auto; } .l-sidebar--right { grid-template-columns: 1fr var(--l-sidebar-width, minmax(15rem, 25%)); grid-template-areas: "content sidebar"; } }
  .l-standard-page { display: grid; grid-template-rows: auto 1fr auto; min-height: var(--l-standard-page-min-height, 100vh); gap: var(--l-standard-page-gap, 0); }
  .l-standard-page > * { min-width: 0; } .l-standard-page__header { grid-row: 1; } .l-standard-page__main { grid-row: 2; } .l-standard-page__footer { grid-row: 3; }
  .l-media { display: flex; align-items: var(--l-media-align, flex-start); gap: var(--l-media-gap, var(--space-md)); }
  .l-media > :first-child { flex-shrink: 0; } .l-media > :last-child { flex-grow: 1; min-width: 0; } .l-media--reverse { flex-direction: row-reverse; }
  .l-tabs { display: flex; flex-direction: column; gap: var(--l-tabs-gap, var(--space-md)); }
  .l-tabs__list { flex-shrink: 0; } .l-tabs__panel { flex-grow: 1; min-height: 0; } .l-tabs--bottom { flex-direction: column-reverse; } .l-tabs--left { flex-direction: row; } .l-tabs--right { flex-direction: row-reverse; }
  .l-tabs--left > .l-tabs__panel, .l-tabs--right > .l-tabs__panel { min-width: 0; } .l-tabs--left > .l-tabs__list, .l-tabs--right > .l-tabs__list { width: var(--l-tabs-side-width, max-content); flex-shrink: 0; }
} /* End of @layer layouts */
